import{j as e}from"./index-CHcuUdej.js";import{r as u}from"./react-vendor-xiFAdxLt.js";import{c as M,a7 as T,C as $}from"./ui-vendor-a8g5-7pO.js";function V({currentPrice:j,vestedShares:f}){var v,P;const[g,C]=u.useState("3M"),a=u.useMemo(()=>{const t=[],n=new Date;let r=90;switch(g){case"1M":r=30;break;case"3M":r=90;break;case"6M":r=180;break;case"1Y":r=365;break;case"ALL":r=730;break}let c=j*.85;for(let i=r;i>=0;i--){const d=new Date(n);d.setDate(d.getDate()-i);const p=(Math.random()-.5)*2,h=(r-i)/r*.15;c=c*(1+p/100+h/100),t.push({date:d.toISOString().split("T")[0],price:Number(c.toFixed(2)),value:Number((c*f).toFixed(2))})}return t},[g,j,f]),l=u.useMemo(()=>{var k,S,L,D;const t=((k=a[0])==null?void 0:k.price)||0,r=(((S=a[a.length-1])==null?void 0:S.price)||0)-t,c=t>0?r/t*100:0,i=a.map(F=>F.price),d=Math.max(...i),p=Math.min(...i),h=((L=a[0])==null?void 0:L.value)||0,w=((D=a[a.length-1])==null?void 0:D.value)||0,R=w-h;return{change:r,changePercent:c,maxPrice:d,minPrice:p,valueChange:R,firstValue:h,lastValue:w}},[a]),o=200,x=600,s={top:20,right:20,bottom:30,left:60},y=l.maxPrice-l.minPrice,b=t=>o-s.bottom-(t-l.minPrice)/y*(o-s.top-s.bottom),m=t=>s.left+t/(a.length-1)*(x-s.left-s.right),N=a.map((t,n)=>{const r=m(n),c=b(t.price);return`${n===0?"M":"L"} ${r} ${c}`}).join(" "),A=`${N} L ${m(a.length-1)} ${o-s.bottom} L ${s.left} ${o-s.bottom} Z`;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Performance History"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track your portfolio value over time"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:["1M","3M","6M","1Y","ALL"].map(t=>e.jsx("button",{onClick:()=>C(t),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${g===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t},t))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Portfolio Value"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.lastValue.toLocaleString()," SAR"]}),e.jsxs("div",{className:`flex items-center space-x-1 mt-2 text-sm ${l.changePercent>=0?"text-green-600":"text-red-600"}`,children:[l.changePercent>=0?e.jsx(M,{className:"w-4 h-4"}):e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:[l.changePercent>=0?"+":"",l.changePercent.toFixed(2),"%"]}),e.jsxs("span",{className:"text-gray-500",children:["(",l.changePercent>=0?"+":"",l.valueChange.toLocaleString()," SAR)"]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"High"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:[l.maxPrice.toFixed(2)," SAR"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Low"}),e.jsxs("p",{className:"text-lg font-bold text-red-600",children:[l.minPrice.toFixed(2)," SAR"]})]})]})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"relative",children:e.jsxs("svg",{viewBox:`0 0 ${x} ${o}`,className:"w-full",style:{minHeight:"250px"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.05"})]})}),e.jsx("path",{d:A,fill:"url(#areaGradient)"}),e.jsx("path",{d:N,fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((t,n)=>n%Math.ceil(a.length/8)===0||n===a.length-1?e.jsx("g",{children:e.jsx("circle",{cx:m(n),cy:b(t.price),r:"3",fill:"#3b82f6",className:"hover:r-5 transition-all cursor-pointer"})},n):null),e.jsx("line",{x1:s.left,y1:o-s.bottom,x2:x-s.right,y2:o-s.bottom,stroke:"#d1d5db",strokeWidth:"1"}),e.jsx("line",{x1:s.left,y1:s.top,x2:s.left,y2:o-s.bottom,stroke:"#d1d5db",strokeWidth:"1"}),[0,.25,.5,.75,1].map(t=>{const n=l.minPrice+y*t,r=b(n);return e.jsxs("g",{children:[e.jsx("line",{x1:s.left,y1:r,x2:x-s.right,y2:r,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"4 4"}),e.jsx("text",{x:s.left-10,y:r+4,textAnchor:"end",fontSize:"10",fill:"#6b7280",children:n.toFixed(1)})]},t)}),a.map((t,n)=>{if(n%Math.ceil(a.length/6)===0){const c=new Date(t.date).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e.jsx("text",{x:m(n),y:o-s.bottom+20,textAnchor:"middle",fontSize:"10",fill:"#6b7280",children:c},n)}return null})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx($,{className:"w-5 h-5 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Period Start"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:new Date((v=a[0])==null?void 0:v.date).toLocaleDateString()})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx(M,{className:"w-5 h-5 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Gain/Loss"}),e.jsxs("p",{className:`text-sm font-semibold ${l.valueChange>=0?"text-green-600":"text-red-600"}`,children:[l.valueChange>=0?"+":"",l.valueChange.toLocaleString()," SAR"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx($,{className:"w-5 h-5 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Period End"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:new Date((P=a[a.length-1])==null?void 0:P.date).toLocaleDateString()})]})]})]})]})}export{V as P};
