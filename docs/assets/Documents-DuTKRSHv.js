import{u as le,s as n,j as e}from"./index-DDk1oefv.js";import{r as o}from"./react-vendor-xiFAdxLt.js";import{f as O}from"./dateUtils-DoPl8O0G.js";import{w as B,F as C,a1 as ie,K as oe,r as G,a2 as ce,E as de,J as V,k as me}from"./ui-vendor-B0ZOy8uN.js";import"./supabase-vendor-B-LuImWU.js";function ye(){const[u,M]=o.useState("documents"),[j,H]=o.useState([]),[v,F]=o.useState([]),[U,K]=o.useState([]),[Y,Q]=o.useState(!0),[W,N]=o.useState(!1),[X,k]=o.useState(!1),[Z,h]=o.useState(!1),[c,z]=o.useState(null),[D,ee]=o.useState([]),[P,te]=o.useState([]);o.useState(null);const[w,R]=o.useState(null),[A,y]=o.useState(null),{userRole:m,hasPermission:T}=le(),x=o.useMemo(()=>{if(!m)return console.log("âŒ canApproveDocuments: userRole is null"),!1;if(console.log("ðŸ” Debug canApproveDocuments:",{userRole:m,user_type:m.user_type,role:m.role,hasPermission:T("contract_approval"),fullUserRole:JSON.stringify(m,null,2)}),m.user_type==="super_admin")return console.log("âœ… canApproveDocuments: user_type is super_admin"),!0;if(m.role==="super_admin")return console.log("âœ… canApproveDocuments: role is super_admin"),!0;if(m.role==="finance_admin")return console.log("âœ… canApproveDocuments: role is finance_admin"),!0;if(m.role==="hr_admin"||m.role==="legal_admin"||m.role==="company_admin"){const t=T("contract_approval");return console.log("ðŸ” canApproveDocuments: hr/legal/company admin, hasPermission:",t),t}return console.log("âŒ canApproveDocuments: No matching conditions"),!1},[m,T]),[p,S]=o.useState({template_name:"",document_type:"grant_agreement",template_content:"",merge_fields:{fields:[]},is_active:!0,language:"en"}),[l,f]=o.useState({template_id:"",employee_id:"",grant_id:"",document_name:""});o.useEffect(()=>{g(),ae()},[u]);const ae=async()=>{try{const{data:{user:t}}=await n.auth.getUser();if(!t)return;const{data:a}=await n.from("company_users").select("company_id").eq("user_id",t.id).maybeSingle();if(!a)return;const[s,i]=await Promise.all([n.from("employees").select("id, first_name_en, last_name_en, email, employee_number").eq("company_id",a.company_id),n.from("grants").select("id, grant_number, employee_id").eq("company_id",a.company_id).eq("status","active")]);s.data&&ee(s.data),i.data&&te(i.data)}catch(t){console.error("Error loading employees and grants:",t)}},g=async()=>{try{const{data:{user:t}}=await n.auth.getUser();if(!t)return;const{data:a}=await n.from("company_users").select("company_id").eq("user_id",t.id).single();if(!a)return;if(u==="templates"){const{data:s}=await n.from("document_templates").select("*").eq("company_id",a.company_id).order("created_at",{ascending:!1});s&&H(s)}else if(u==="documents"){const{data:s}=await n.from("generated_documents").select("*, employees(first_name_en, last_name_en, email), grants(status, employee_acceptance_at)").eq("company_id",a.company_id).order("generated_at",{ascending:!1});if(s){const i=s.map(d=>{const r=d.grants;let b=d.status;return r!=null&&r.employee_acceptance_at&&(b="signed"),{...d,status:b}});F(i)}}else if(u==="signatures"){const{data:s}=await n.from("e_signatures").select("*").order("created_at",{ascending:!1});s&&K(s)}}catch(t){console.error("Error loading data:",t)}finally{Q(!1)}},se=async()=>{try{const{data:{user:t}}=await n.auth.getUser();if(!t)return;const{data:a}=await n.from("company_users").select("company_id").eq("user_id",t.id).single();if(!a)return;const{error:s}=await n.from("document_templates").insert({company_id:a.company_id,...p,created_by:t.id});if(s)throw s;N(!1),J(),g()}catch(t){console.error("Error creating template:",t),alert("Failed to create template")}},re=async()=>{try{const{data:{user:t}}=await n.auth.getUser();if(!t)return;const{data:a}=await n.from("company_users").select("company_id").eq("user_id",t.id).maybeSingle();if(!a)return;const s=j.find(_=>_.id===l.template_id);if(!s)return;const i=D.find(_=>_.id===l.employee_id),d=P.find(_=>_.id===l.grant_id);let r=s.template_content;i&&(r=r.replace(/{{employee_first_name}}/g,i.first_name_en||""),r=r.replace(/{{employee_last_name}}/g,i.last_name_en||""),r=r.replace(/{{employee_email}}/g,i.email||""),r=r.replace(/{{employee_number}}/g,i.employee_number||"")),d&&(r=r.replace(/{{grant_number}}/g,d.grant_number||""));const{error:b}=await n.from("generated_documents").insert({company_id:a.company_id,template_id:l.template_id,employee_id:l.employee_id||null,grant_id:l.grant_id||null,document_name:l.document_name,document_content:r,document_type:"grant_agreement",status:"draft"});if(b)throw b;k(!1),L(),M("documents"),g(),alert("Document generated successfully!")}catch(t){console.error("Error generating document:",t),alert("Failed to generate document")}},ne=async t=>{if(confirm("Delete this template?"))try{const{error:a}=await n.from("document_templates").delete().eq("id",t);if(a)throw a;g()}catch(a){console.error("Error deleting template:",a),alert("Failed to delete template")}},$=async t=>{try{const a=v.find(r=>r.id===t);if(!a||!a.employee_id){alert("No employee associated with this document");return}const s=D.find(r=>r.id===a.employee_id);if(!s){alert("Employee not found");return}const{error:i}=await n.from("generated_documents").update({status:"pending_signature"}).eq("id",t);if(i)throw i;const{error:d}=await n.from("e_signatures").insert({document_id:t,signer_email:s.email,signer_name:`${s.first_name_en} ${s.last_name_en}`,status:"pending"});if(d)throw d;alert(`Signature request sent to ${s.email}`),g()}catch(a){console.error("Error requesting signature:",a),alert("Failed to send signature request")}},E=async t=>{if(!w)try{R(t);const{data:{user:a}}=await n.auth.getUser();if(!a){alert("Unable to approve the document because no active session was found.");return}const s=new Date().toISOString(),{error:i}=await n.from("generated_documents").update({status:"pending_signature",approved_by:a.id,approved_at:s}).eq("id",t);if(i)throw i;F(d=>d.map(r=>r.id===t?{...r,status:"pending_signature"}:r)),(c==null?void 0:c.id)===t&&z({...c,status:"pending_signature"}),g(),alert("Document approved successfully. You can now send it for signature.")}catch(a){console.error("Error approving document:",a),alert("Failed to approve the document. Please try again.")}finally{R(null)}},I=t=>{z(t),h(!0)},J=()=>{S({template_name:"",document_type:"grant_agreement",template_content:"",merge_fields:{fields:[]},is_active:!0,language:"en"})},L=()=>{f({template_id:"",employee_id:"",grant_id:"",document_name:""})},q=t=>{const a={draft:"bg-gray-100 text-gray-800",pending_signature:"bg-yellow-100 text-yellow-800",signed:"bg-green-100 text-green-800",archived:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",declined:"bg-red-100 text-red-800"},s={pending_signature:"Pending Signature",draft:"Draft",signed:"Signed",archived:"Archived",pending:"Pending",declined:"Declined"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a[t]||a.draft}`,children:s[t]||t})};return Y?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:["Document Management",e.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white text-lg font-semibold",children:v.length})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage templates, generate documents, and track e-signatures"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[u==="templates"&&e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"New Template"})]}),u==="documents"&&e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:"Generate Document"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:["documents","templates","signatures"].map(t=>e.jsx("button",{onClick:()=>M(t),className:`py-2 px-1 border-b-2 font-medium text-sm capitalize ${u===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t},t))})}),u==="templates"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[j.map(t=>{var a,s;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:border-blue-300 transition",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ie,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.template_name}),e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:t.document_type.replace("_"," ")})]})]}),e.jsx("button",{onClick:()=>ne(t.id),className:"text-gray-400 hover:text-red-600 transition",children:e.jsx(oe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[((s=(a=t.merge_fields)==null?void 0:a.fields)==null?void 0:s.length)||0," merge fields"]}),t.is_active&&e.jsxs("span",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{children:"Active"})]})]})]},t.id)}),j.length===0&&e.jsxs("div",{className:"col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-12 text-center",children:[e.jsx(C,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No templates yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first document template"}),e.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Template"})]})]})]}),u==="documents"&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Document"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Generated"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(t=>{var s,i;const a=((i=(s=t.status)==null?void 0:s.toLowerCase)==null?void 0:i.call(s))||t.status;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C,{className:"w-5 h-5 text-gray-400"}),e.jsx("button",{onClick:()=>I(t),className:"font-medium text-blue-600 hover:text-blue-800 hover:underline transition text-left",children:t.document_name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:t.employees?`${t.employees.first_name_en} ${t.employees.last_name_en}`:"N/A"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 capitalize",children:t.document_type.replace("_"," ")}),e.jsx("td",{className:"px-6 py-4",children:q(t.status)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:O(t.generated_at)}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[(()=>{const d=x&&a==="draft";return a==="draft"&&console.log("ðŸ” Button render check for draft document:",{documentId:t.id,documentName:t.document_name,canApproveDocuments:x,normalizedStatus:a,docStatus:t.status,shouldShow:d}),null})(),x&&a==="draft"&&e.jsx("button",{onClick:()=>E(t.id),className:"p-1 text-gray-400 hover:text-green-600 transition disabled:opacity-50",title:"Approve for Signature",disabled:w===t.id,children:e.jsx(G,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative inline-block text-left",children:[e.jsx("button",{onClick:()=>y(A===t.id?null:t.id),className:"p-1 text-gray-400 hover:text-gray-600 transition",title:"More actions",children:e.jsx(ce,{className:"w-4 h-4"})}),A===t.id&&e.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{I(t),y(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"View"]}),e.jsxs("button",{onClick:()=>{$(t.id),y(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",disabled:a!=="draft",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Send for Signature"]}),e.jsxs("button",{onClick:()=>{alert("Email sharing functionality is coming soon!"),y(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Share by Email"]}),(()=>{const d=x&&a==="draft";return a==="draft"&&A===t.id&&console.log("ðŸ” Actions menu - Approve button check:",{documentId:t.id,canApproveDocuments:x,normalizedStatus:a,shouldShowInMenu:d}),null})(),x&&a==="draft"&&e.jsxs("button",{onClick:()=>{E(t.id),y(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",disabled:w===t.id,children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Approve"]})]})})]})]})})]},t.id)})})]}),v.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(C,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No documents generated yet"})]})]}),u==="signatures"&&e.jsxs("div",{className:"space-y-4",children:[U.map(t=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.signer_name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.signer_email})]}),e.jsxs("div",{className:"text-right",children:[q(t.status),t.signed_at&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Signed: ",O(t.signed_at)]})]})]})},t.id)),U.length===0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-12 text-center",children:[e.jsx(V,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No signature requests yet"})]})]}),W&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Document Template"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name"}),e.jsx("input",{type:"text",value:p.template_name,onChange:t=>S({...p,template_name:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Standard Grant Agreement"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Type"}),e.jsxs("select",{value:p.document_type,onChange:t=>S({...p,document_type:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"grant_agreement",children:"Grant Agreement"}),e.jsx("option",{value:"exercise_notice",children:"Exercise Notice"}),e.jsx("option",{value:"amendment",children:"Amendment"}),e.jsx("option",{value:"termination",children:"Termination"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Template"}),e.jsx("textarea",{value:p.template_content,onChange:t=>S({...p,template_content:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:8,placeholder:"Use {{field_name}} for merge fields"})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{N(!1),J()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:se,disabled:!p.template_name||!p.template_content,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:"Create Template"})]})]})}),X&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Generate Document"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Template"}),e.jsxs("select",{value:l.template_id,onChange:t=>f({...l,template_id:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Choose a template..."}),j.map(t=>e.jsx("option",{value:t.id,children:t.template_name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee"}),e.jsxs("select",{value:l.employee_id,onChange:t=>f({...l,employee_id:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Choose an employee..."}),D.map(t=>e.jsxs("option",{value:t.id,children:[t.first_name_en," ",t.last_name_en," (",t.employee_number,")"]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Grant"}),e.jsxs("select",{value:l.grant_id,onChange:t=>f({...l,grant_id:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:!l.employee_id,children:[e.jsx("option",{value:"",children:"Choose a grant..."}),P.filter(t=>t.employee_id===l.employee_id).map(t=>e.jsx("option",{value:t.id,children:t.grant_number},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Name"}),e.jsx("input",{type:"text",value:l.document_name,onChange:t=>f({...l,document_name:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Grant Agreement - John Doe"})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{k(!1),L()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:re,disabled:!l.template_id||!l.document_name,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:"Generate"})]})]})}),Z&&c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c.document_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.employees&&e.jsxs("span",{children:["For: ",c.employees.first_name_en," ",c.employees.last_name_en]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[q(c.status),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("span",{className:"text-2xl",children:"Ã—"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed text-gray-800",children:c.document_content})})}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3 bg-gray-50",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Close"}),c.status==="draft"&&x&&e.jsx("button",{onClick:()=>{E(c.id),h(!1)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",disabled:w===c.id,children:"Approve for Signature"}),c.status==="draft"&&e.jsx("button",{onClick:()=>{$(c.id),h(!1)},className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition",children:"Send for Signature"})]})]})})]})}export{ye as default};
