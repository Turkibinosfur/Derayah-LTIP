import{a as te,b as se,s as m,j as e}from"./index-CHcuUdej.js";import{r as h}from"./react-vendor-xiFAdxLt.js";import{x as P,s as re,N as L,C as V,_ as ae,c as ne,a as le}from"./ui-vendor-a8g5-7pO.js";import"./supabase-vendor-B-LuImWU.js";function ue(){const{t:l,i18n:A}=te(),f=A.language==="ar",{brandColor:c}=se(),[k,U]=h.useState([]),[R,z]=h.useState([]),[B,G]=h.useState(!0),[O,_]=h.useState(!1),[Y,C]=h.useState(!1),[i,H]=h.useState(null),[T,v]=h.useState(null),$=(t,s=5)=>{if(!t)return"";const r=t.split(" ");return r.length<=s?t:r.slice(0,s).join(" ")+"..."},[a,g]=h.useState({name:"",description:"",schedule_type:"time_based",total_duration_months:48,cliff_months:12,vesting_frequency:"monthly",is_template:!0}),[d,y]=h.useState([]);h.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:{user:t}}=await m.auth.getUser();if(!t)return;const{data:s}=await m.from("company_users").select("company_id").eq("user_id",t.id).single();if(!s)return;const[r,n]=await Promise.all([m.from("vesting_schedules").select("*").eq("company_id",s.company_id).order("created_at",{ascending:!1}),m.from("performance_metrics").select("*").eq("company_id",s.company_id).order("name",{ascending:!0})]);r.data&&U(r.data),n.data&&z(n.data)}catch(t){console.error("Error loading data:",t)}finally{G(!1)}},J=()=>{const t=a.total_duration_months,s=a.cliff_months,r=a.vesting_frequency==="monthly"?1:a.vesting_frequency==="quarterly"?3:12,n=a.schedule_type==="time_based"?"time":a.schedule_type==="performance_based"?"performance":"hybrid",u=[];let x=0;s>0&&u.push({milestone_type:n,sequence_order:x++,vesting_percentage:25,months_from_start:s,performance_metric_id:null,target_value:null});const o=t-s,p=Math.floor(o/r),S=75/p;for(let b=1;b<=p;b++)u.push({milestone_type:n,sequence_order:x++,vesting_percentage:S,months_from_start:s+b*r,performance_metric_id:null,target_value:null});y(u)},W=async()=>{try{const{data:{user:t}}=await m.auth.getUser();if(!t)return;const{data:s}=await m.from("company_users").select("company_id").eq("user_id",t.id).single();if(!s)return;const{data:r,error:n}=await m.from("vesting_schedules").insert({company_id:s.company_id,...a}).select().single();if(n)throw n;let u=[...d];if(u.length===0){const x=a.total_duration_months,o=a.cliff_months,p=a.vesting_frequency==="monthly"?1:a.vesting_frequency==="quarterly"?3:12,S=a.schedule_type==="time_based"?"time":a.schedule_type==="performance_based"?"performance":"hybrid";let b=0;o>0&&u.push({milestone_type:S,sequence_order:b++,vesting_percentage:25,months_from_start:o,performance_metric_id:null,target_value:null});const X=x-o,F=Math.floor(X/p),ee=75/F;for(let q=1;q<=F;q++)u.push({milestone_type:S,sequence_order:b++,vesting_percentage:ee,months_from_start:o+q*p,performance_metric_id:null,target_value:null})}if(r&&u.length>0){const x=u.map(p=>({...p,vesting_schedule_id:r.id})),{error:o}=await m.from("vesting_milestones").insert(x);if(o)throw o}_(!1),I(),j()}catch(t){console.error("Error creating schedule:",t),alert("Failed to create vesting schedule")}},E=t=>{H(t),C(!0)},Z=async t=>{try{console.log("ðŸ—‘ï¸ Attempting to delete vesting schedule:",t);const{data:s,error:r}=await m.from("vesting_schedules").select("id, name, company_id").eq("id",t).single();if(r){console.error("âŒ Error checking schedule:",r),alert(`Cannot access schedule: ${r.message}`);return}if(!s){alert("Schedule not found");return}console.log("âœ… Schedule found:",s);const{error:n,data:u}=await m.from("vesting_schedules").delete().eq("id",t);if(n)throw console.error("âŒ Delete error:",n),console.error("Error details:",JSON.stringify(n,null,2)),alert(`Failed to delete vesting schedule:

${n.message||"Unknown error"}

Code: ${n.code||"N/A"}
Details: ${n.details||"N/A"}
Hint: ${n.hint||"N/A"}`),n;console.log("âœ… Delete query executed. Data returned:",u);const{data:x,error:o}=await m.from("vesting_schedules").select("id, name").eq("id",t).single();o&&o.code==="PGRST116"?(console.log("âœ… Schedule successfully deleted (not found on verify)"),v(null),j()):x?(console.error("âŒ Schedule still exists after delete!",x),alert("Failed to delete vesting schedule: The schedule still exists. This might be due to Row Level Security (RLS) policy restrictions. Please check your permissions.")):o?(console.error("âŒ Error verifying deletion:",o),alert(`Delete may have succeeded, but couldn't verify: ${o.message}`),v(null),j()):(console.log("âš ï¸ Unexpected verify result"),v(null),j())}catch(s){if(console.error("âŒ Exception deleting schedule:",s),!(s!=null&&s.message)||s.message.includes("Unknown error")){const r=(s==null?void 0:s.message)||(s==null?void 0:s.toString())||"Unknown error";alert(`Failed to delete vesting schedule: ${r}`)}}},K=()=>{const t=d.length>0?Math.max(...d.map(s=>s.sequence_order)):-1;y([...d,{milestone_type:a.schedule_type==="time_based"?"time":a.schedule_type==="performance_based"?"performance":"hybrid",sequence_order:t+1,vesting_percentage:0,months_from_start:null,performance_metric_id:null,target_value:null}])},Q=t=>{const s=d.filter((r,n)=>n!==t);s.forEach((r,n)=>r.sequence_order=n),y(s)},N=(t,s,r)=>{const n=[...d];n[t][s]=r,y(n)},I=()=>{g({name:"",description:"",schedule_type:"time_based",total_duration_months:48,cliff_months:12,vesting_frequency:"monthly",is_template:!0}),y([])},D=t=>{switch(t){case"time_based":return e.jsx(le,{className:"w-5 h-5"});case"performance_based":return e.jsx(ne,{className:"w-5 h-5"});case"hybrid":return e.jsx(ae,{className:"w-5 h-5"});default:return e.jsx(V,{className:"w-5 h-5"})}},M=t=>{switch(t){case"time_based":return"bg-blue-100 text-blue-800";case"performance_based":return"bg-green-100 text-green-800";case"hybrid":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},w=d.reduce((t,s)=>t+s.vesting_percentage,0);return B?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading vesting schedules..."})}):e.jsxs("div",{className:`space-y-6 ${f?"text-right":"text-left"}`,dir:f?"rtl":"ltr",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:f?"text-right":"",children:[e.jsxs("h1",{className:`text-2xl font-bold text-gray-900 flex items-center gap-3 ${f?"flex-row-reverse justify-end":""}`,children:[l("vestingSchedules.title"),e.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full text-white text-lg font-semibold",style:{backgroundColor:c},children:k.length})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l("vestingSchedules.description")})]}),e.jsxs("button",{onClick:()=>_(!0),className:`flex items-center space-x-2 px-4 py-2 text-white rounded-lg transition ${f?"space-x-reverse":""}`,style:{backgroundColor:c},onMouseEnter:t=>{const s=parseInt(c.slice(1,3),16)*.9,r=parseInt(c.slice(3,5),16)*.9,n=parseInt(c.slice(5,7),16)*.9;t.currentTarget.style.backgroundColor=`rgb(${Math.round(s)}, ${Math.round(r)}, ${Math.round(n)})`},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=c},children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:l("vestingSchedules.createSchedule")})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l("vestingSchedules.scheduleName")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l("vestingSchedules.type")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l("vestingSchedules.duration")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l("vestingSchedules.cliffPeriod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l("vestingSchedules.frequency")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l("vestingSchedules.template")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:l("vestingSchedules.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("button",{onClick:()=>E(t),className:"text-left",children:[e.jsx("div",{className:"font-medium text-blue-600 hover:text-blue-800 hover:underline",children:t.name}),t.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:$(t.description)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M(t.schedule_type)}`,children:[e.jsx("span",{className:"mr-1",children:D(t.schedule_type)}),t.schedule_type.replace("_"," ")]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[t.total_duration_months," ",l("vestingSchedules.months"),e.jsxs("div",{className:"text-xs text-gray-500",children:[(t.total_duration_months/12).toFixed(1)," ",l("vestingSchedules.years")]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[t.cliff_months," ",l("vestingSchedules.months")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:t.vesting_frequency}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.is_template?e.jsxs("span",{className:"inline-flex items-center text-green-600",children:[e.jsx(re,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:l("vestingSchedules.yes")})]}):e.jsx("span",{className:"text-sm text-gray-500",children:l("vestingSchedules.no")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>E(t),className:"text-blue-600 hover:text-blue-800 transition",children:l("vestingSchedules.view")}),e.jsx("button",{onClick:()=>v(t.id),className:"text-red-600 hover:text-red-800 transition",children:e.jsx(L,{className:"w-4 h-4"})})]})})]},t.id))})]})})}),k.length===0&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[e.jsx(V,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:l("vestingSchedules.noSchedulesYet")}),e.jsx("p",{className:"text-gray-600 mb-6",children:l("vestingSchedules.createFirstSchedule")}),e.jsxs("button",{onClick:()=>_(!0),className:"inline-flex items-center space-x-2 px-4 py-2 text-white rounded-lg transition",style:{backgroundColor:c},onMouseEnter:t=>{const s=parseInt(c.slice(1,3),16)*.9,r=parseInt(c.slice(3,5),16)*.9,n=parseInt(c.slice(5,7),16)*.9;t.currentTarget.style.backgroundColor=`rgb(${Math.round(s)}, ${Math.round(r)}, ${Math.round(n)})`},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=c},children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:l("vestingSchedules.createSchedule")})]})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l("vestingSchedules.createVestingSchedule")})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("vestingSchedules.scheduleName")}),e.jsx("input",{type:"text",value:a.name,onChange:t=>g({...a,name:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 4-year with 1-year cliff"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("vestingSchedules.scheduleType")}),e.jsxs("select",{value:a.schedule_type,onChange:t=>{g({...a,schedule_type:t.target.value}),y([])},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"time_based",children:l("vestingSchedules.timeBased")}),e.jsx("option",{value:"performance_based",children:l("vestingSchedules.performanceBased")}),e.jsx("option",{value:"hybrid",children:l("vestingSchedules.hybrid")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("vestingSchedules.descriptionOptional")}),e.jsx("textarea",{value:a.description,onChange:t=>g({...a,description:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Brief description of this vesting schedule"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("vestingSchedules.totalDurationMonths")}),e.jsx("input",{type:"number",value:a.total_duration_months,onChange:t=>g({...a,total_duration_months:parseInt(t.target.value)||48}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("vestingSchedules.cliffPeriodMonths")}),e.jsx("input",{type:"number",value:a.cliff_months,onChange:t=>g({...a,cliff_months:parseInt(t.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("vestingSchedules.vestingFrequency")}),e.jsxs("select",{value:a.vesting_frequency,onChange:t=>g({...a,vesting_frequency:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"monthly",children:l("vestingSchedules.monthly")}),e.jsx("option",{value:"quarterly",children:l("vestingSchedules.quarterly")}),e.jsx("option",{value:"annually",children:l("vestingSchedules.annually")})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_template",checked:a.is_template,onChange:t=>g({...a,is_template:t.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_template",className:"ml-2 text-sm text-gray-700",children:"Save as reusable template"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vesting Milestones"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Define when and how much vests at each milestone"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:J,className:"px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Auto Generate"}),e.jsx("button",{onClick:K,className:"px-3 py-1 text-sm text-white rounded-lg transition",style:{backgroundColor:c},onMouseEnter:t=>{const s=parseInt(c.slice(1,3),16)*.9,r=parseInt(c.slice(3,5),16)*.9,n=parseInt(c.slice(5,7),16)*.9;t.currentTarget.style.backgroundColor=`rgb(${Math.round(s)}, ${Math.round(r)}, ${Math.round(n)})`},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=c},children:"Add Milestone"})]})]}),d.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Vesting Percentage:"}),e.jsxs("span",{className:`font-bold ${w===100?"text-green-600":"text-red-600"}`,children:[w.toFixed(2),"%"]})]}),w!==100&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Total must equal 100%"})]}),e.jsx("div",{className:"space-y-3",children:d.map((t,s)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Milestone ",s+1]}),e.jsx("button",{onClick:()=>Q(s),className:"text-gray-400 hover:text-red-600 transition",children:e.jsx(L,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Vesting %"}),e.jsx("input",{type:"number",value:t.vesting_percentage,onChange:r=>N(s,"vesting_percentage",parseFloat(r.target.value)||0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01",min:"0",max:"100"})]}),(a.schedule_type==="time_based"||a.schedule_type==="hybrid")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Months from Start"}),e.jsx("input",{type:"number",value:t.months_from_start||"",onChange:r=>N(s,"months_from_start",parseInt(r.target.value)||null),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(a.schedule_type==="performance_based"||a.schedule_type==="hybrid")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Performance Metric"}),e.jsxs("select",{value:t.performance_metric_id||"",onChange:r=>N(s,"performance_metric_id",r.target.value||null),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select metric..."}),R.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target Value"}),e.jsx("input",{type:"number",value:t.target_value||"",onChange:r=>N(s,"target_value",parseFloat(r.target.value)||null),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]},s))}),d.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'No milestones added yet. Click "Auto Generate" or "Add Milestone" to start.'})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{_(!1),I()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:W,disabled:!a.name||w!==100||d.length===0,className:"px-6 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:c},onMouseEnter:t=>{if(!t.currentTarget.disabled){const s=parseInt(c.slice(1,3),16)*.9,r=parseInt(c.slice(3,5),16)*.9,n=parseInt(c.slice(5,7),16)*.9;t.currentTarget.style.backgroundColor=`rgb(${Math.round(s)}, ${Math.round(r)}, ${Math.round(n)})`}},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=c},children:"Create Schedule"})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Vesting Schedule"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this vesting schedule? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:()=>Z(T),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Delete"})]})]})}),Y&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vesting Schedule Details"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 transition",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${M(i.schedule_type)}`,children:D(i.schedule_type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i.name}),e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full mt-1 ${M(i.schedule_type)}`,children:i.schedule_type.replace("_"," ")})]})]}),i.description&&e.jsx("p",{className:"text-gray-700",children:$(i.description,8)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Duration"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[i.total_duration_months," months"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(i.total_duration_months/12).toFixed(1)," years"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cliff Period"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[i.cliff_months," months"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Vesting Frequency"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:i.vesting_frequency})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Template"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.is_template?"Yes":"No"})]})]}),i.milestones&&i.milestones.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Vesting Milestones"}),e.jsx("div",{className:"space-y-3",children:i.milestones.map((t,s)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Milestone ",s+1]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[t.vesting_percentage,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Type"}),e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:t.milestone_type.replace("_"," ")})]}),t.months_from_start!==null&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Timing"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[t.months_from_start," months"]})]})]})]},t.id||s))})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4",children:e.jsx("button",{onClick:()=>C(!1),className:"w-full px-4 py-2 text-white rounded-lg transition font-medium",style:{backgroundColor:c},onMouseEnter:t=>{const s=parseInt(c.slice(1,3),16)*.9,r=parseInt(c.slice(3,5),16)*.9,n=parseInt(c.slice(5,7),16)*.9;t.currentTarget.style.backgroundColor=`rgb(${Math.round(s)}, ${Math.round(r)}, ${Math.round(n)})`},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=c},children:"Close"})})]})})]})}export{ue as default};
