import{a as X,s as m,j as e}from"./index-DDk1oefv.js";import{r as u}from"./react-vendor-xiFAdxLt.js";import{w as P,r as ee,K as V,C as $,Z as se,c as te,a as re}from"./ui-vendor-B0ZOy8uN.js";import"./supabase-vendor-B-LuImWU.js";function ce(){const{t:a,i18n:A}=X();A.language;const[w,U]=u.useState([]),[L,z]=u.useState([]),[R,I]=u.useState(!0),[B,v]=u.useState(!1),[G,S]=u.useState(!1),[i,O]=u.useState(null),[q,f]=u.useState(null),M=(s,t=5)=>{if(!s)return"";const l=s.split(" ");return l.length<=t?s:l.slice(0,t).join(" ")+"..."},[r,x]=u.useState({name:"",description:"",schedule_type:"time_based",total_duration_months:48,cliff_months:12,vesting_frequency:"monthly",is_template:!0}),[d,p]=u.useState([]);u.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:{user:s}}=await m.auth.getUser();if(!s)return;const{data:t}=await m.from("company_users").select("company_id").eq("user_id",s.id).single();if(!t)return;const[l,n]=await Promise.all([m.from("vesting_schedules").select("*").eq("company_id",t.company_id).order("created_at",{ascending:!1}),m.from("performance_metrics").select("*").eq("company_id",t.company_id).order("name",{ascending:!0})]);l.data&&U(l.data),n.data&&z(n.data)}catch(s){console.error("Error loading data:",s)}finally{I(!1)}},Y=()=>{const s=r.total_duration_months,t=r.cliff_months,l=r.vesting_frequency==="monthly"?1:r.vesting_frequency==="quarterly"?3:12,n=r.schedule_type==="time_based"?"time":r.schedule_type==="performance_based"?"performance":"hybrid",o=[];let h=0;t>0&&o.push({milestone_type:n,sequence_order:h++,vesting_percentage:25,months_from_start:t,performance_metric_id:null,target_value:null});const c=s-t,g=Math.floor(c/l),N=75/g;for(let y=1;y<=g;y++)o.push({milestone_type:n,sequence_order:h++,vesting_percentage:N,months_from_start:t+y*l,performance_metric_id:null,target_value:null});p(o)},Z=async()=>{try{const{data:{user:s}}=await m.auth.getUser();if(!s)return;const{data:t}=await m.from("company_users").select("company_id").eq("user_id",s.id).single();if(!t)return;const{data:l,error:n}=await m.from("vesting_schedules").insert({company_id:t.company_id,...r}).select().single();if(n)throw n;let o=[...d];if(o.length===0){const h=r.total_duration_months,c=r.cliff_months,g=r.vesting_frequency==="monthly"?1:r.vesting_frequency==="quarterly"?3:12,N=r.schedule_type==="time_based"?"time":r.schedule_type==="performance_based"?"performance":"hybrid";let y=0;c>0&&o.push({milestone_type:N,sequence_order:y++,vesting_percentage:25,months_from_start:c,performance_metric_id:null,target_value:null});const W=h-c,F=Math.floor(W/g),Q=75/F;for(let C=1;C<=F;C++)o.push({milestone_type:N,sequence_order:y++,vesting_percentage:Q,months_from_start:c+C*g,performance_metric_id:null,target_value:null})}if(l&&o.length>0){const h=o.map(g=>({...g,vesting_schedule_id:l.id})),{error:c}=await m.from("vesting_milestones").insert(h);if(c)throw c}v(!1),D(),b()}catch(s){console.error("Error creating schedule:",s),alert("Failed to create vesting schedule")}},T=s=>{O(s),S(!0)},H=async s=>{try{console.log("ðŸ—‘ï¸ Attempting to delete vesting schedule:",s);const{data:t,error:l}=await m.from("vesting_schedules").select("id, name, company_id").eq("id",s).single();if(l){console.error("âŒ Error checking schedule:",l),alert(`Cannot access schedule: ${l.message}`);return}if(!t){alert("Schedule not found");return}console.log("âœ… Schedule found:",t);const{error:n,data:o}=await m.from("vesting_schedules").delete().eq("id",s);if(n)throw console.error("âŒ Delete error:",n),console.error("Error details:",JSON.stringify(n,null,2)),alert(`Failed to delete vesting schedule:

${n.message||"Unknown error"}

Code: ${n.code||"N/A"}
Details: ${n.details||"N/A"}
Hint: ${n.hint||"N/A"}`),n;console.log("âœ… Delete query executed. Data returned:",o);const{data:h,error:c}=await m.from("vesting_schedules").select("id, name").eq("id",s).single();c&&c.code==="PGRST116"?(console.log("âœ… Schedule successfully deleted (not found on verify)"),f(null),b()):h?(console.error("âŒ Schedule still exists after delete!",h),alert("Failed to delete vesting schedule: The schedule still exists. This might be due to Row Level Security (RLS) policy restrictions. Please check your permissions.")):c?(console.error("âŒ Error verifying deletion:",c),alert(`Delete may have succeeded, but couldn't verify: ${c.message}`),f(null),b()):(console.log("âš ï¸ Unexpected verify result"),f(null),b())}catch(t){if(console.error("âŒ Exception deleting schedule:",t),!(t!=null&&t.message)||t.message.includes("Unknown error")){const l=(t==null?void 0:t.message)||(t==null?void 0:t.toString())||"Unknown error";alert(`Failed to delete vesting schedule: ${l}`)}}},J=()=>{const s=d.length>0?Math.max(...d.map(t=>t.sequence_order)):-1;p([...d,{milestone_type:r.schedule_type==="time_based"?"time":r.schedule_type==="performance_based"?"performance":"hybrid",sequence_order:s+1,vesting_percentage:0,months_from_start:null,performance_metric_id:null,target_value:null}])},K=s=>{const t=d.filter((l,n)=>n!==s);t.forEach((l,n)=>l.sequence_order=n),p(t)},j=(s,t,l)=>{const n=[...d];n[s][t]=l,p(n)},D=()=>{x({name:"",description:"",schedule_type:"time_based",total_duration_months:48,cliff_months:12,vesting_frequency:"monthly",is_template:!0}),p([])},E=s=>{switch(s){case"time_based":return e.jsx(re,{className:"w-5 h-5"});case"performance_based":return e.jsx(te,{className:"w-5 h-5"});case"hybrid":return e.jsx(se,{className:"w-5 h-5"});default:return e.jsx($,{className:"w-5 h-5"})}},k=s=>{switch(s){case"time_based":return"bg-blue-100 text-blue-800";case"performance_based":return"bg-green-100 text-green-800";case"hybrid":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},_=d.reduce((s,t)=>s+t.vesting_percentage,0);return R?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading vesting schedules..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a("vestingSchedules.title"),e.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white text-lg font-semibold",children:w.length})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("vestingSchedules.description")})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:a("vestingSchedules.createSchedule")})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("vestingSchedules.scheduleName")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("vestingSchedules.type")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("vestingSchedules.duration")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("vestingSchedules.cliffPeriod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("vestingSchedules.frequency")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("vestingSchedules.template")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("vestingSchedules.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("button",{onClick:()=>T(s),className:"text-left",children:[e.jsx("div",{className:"font-medium text-blue-600 hover:text-blue-800 hover:underline",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:M(s.description)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(s.schedule_type)}`,children:[e.jsx("span",{className:"mr-1",children:E(s.schedule_type)}),s.schedule_type.replace("_"," ")]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[s.total_duration_months," ",a("vestingSchedules.months"),e.jsxs("div",{className:"text-xs text-gray-500",children:[(s.total_duration_months/12).toFixed(1)," ",a("vestingSchedules.years")]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[s.cliff_months," ",a("vestingSchedules.months")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:s.vesting_frequency}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.is_template?e.jsxs("span",{className:"inline-flex items-center text-green-600",children:[e.jsx(ee,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:a("vestingSchedules.yes")})]}):e.jsx("span",{className:"text-sm text-gray-500",children:a("vestingSchedules.no")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>T(s),className:"text-blue-600 hover:text-blue-800 transition",children:a("vestingSchedules.view")}),e.jsx("button",{onClick:()=>f(s.id),className:"text-red-600 hover:text-red-800 transition",children:e.jsx(V,{className:"w-4 h-4"})})]})})]},s.id))})]})})}),w.length===0&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[e.jsx($,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a("vestingSchedules.noSchedulesYet")}),e.jsx("p",{className:"text-gray-600 mb-6",children:a("vestingSchedules.createFirstSchedule")}),e.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:a("vestingSchedules.createSchedule")})]})]}),B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a("vestingSchedules.createVestingSchedule")})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("vestingSchedules.scheduleName")}),e.jsx("input",{type:"text",value:r.name,onChange:s=>x({...r,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 4-year with 1-year cliff"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("vestingSchedules.scheduleType")}),e.jsxs("select",{value:r.schedule_type,onChange:s=>{x({...r,schedule_type:s.target.value}),p([])},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"time_based",children:a("vestingSchedules.timeBased")}),e.jsx("option",{value:"performance_based",children:a("vestingSchedules.performanceBased")}),e.jsx("option",{value:"hybrid",children:a("vestingSchedules.hybrid")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("vestingSchedules.descriptionOptional")}),e.jsx("textarea",{value:r.description,onChange:s=>x({...r,description:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Brief description of this vesting schedule"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("vestingSchedules.totalDurationMonths")}),e.jsx("input",{type:"number",value:r.total_duration_months,onChange:s=>x({...r,total_duration_months:parseInt(s.target.value)||48}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("vestingSchedules.cliffPeriodMonths")}),e.jsx("input",{type:"number",value:r.cliff_months,onChange:s=>x({...r,cliff_months:parseInt(s.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("vestingSchedules.vestingFrequency")}),e.jsxs("select",{value:r.vesting_frequency,onChange:s=>x({...r,vesting_frequency:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"monthly",children:a("vestingSchedules.monthly")}),e.jsx("option",{value:"quarterly",children:a("vestingSchedules.quarterly")}),e.jsx("option",{value:"annually",children:a("vestingSchedules.annually")})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_template",checked:r.is_template,onChange:s=>x({...r,is_template:s.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_template",className:"ml-2 text-sm text-gray-700",children:"Save as reusable template"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vesting Milestones"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Define when and how much vests at each milestone"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:Y,className:"px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Auto Generate"}),e.jsx("button",{onClick:J,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Add Milestone"})]})]}),d.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Vesting Percentage:"}),e.jsxs("span",{className:`font-bold ${_===100?"text-green-600":"text-red-600"}`,children:[_.toFixed(2),"%"]})]}),_!==100&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Total must equal 100%"})]}),e.jsx("div",{className:"space-y-3",children:d.map((s,t)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Milestone ",t+1]}),e.jsx("button",{onClick:()=>K(t),className:"text-gray-400 hover:text-red-600 transition",children:e.jsx(V,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Vesting %"}),e.jsx("input",{type:"number",value:s.vesting_percentage,onChange:l=>j(t,"vesting_percentage",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01",min:"0",max:"100"})]}),(r.schedule_type==="time_based"||r.schedule_type==="hybrid")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Months from Start"}),e.jsx("input",{type:"number",value:s.months_from_start||"",onChange:l=>j(t,"months_from_start",parseInt(l.target.value)||null),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(r.schedule_type==="performance_based"||r.schedule_type==="hybrid")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Performance Metric"}),e.jsxs("select",{value:s.performance_metric_id||"",onChange:l=>j(t,"performance_metric_id",l.target.value||null),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select metric..."}),L.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target Value"}),e.jsx("input",{type:"number",value:s.target_value||"",onChange:l=>j(t,"target_value",parseFloat(l.target.value)||null),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]},t))}),d.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'No milestones added yet. Click "Auto Generate" or "Add Milestone" to start.'})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{v(!1),D()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:Z,disabled:!r.name||_!==100||d.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Schedule"})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Vesting Schedule"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this vesting schedule? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:()=>H(q),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Delete"})]})]})}),G&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vesting Schedule Details"}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600 transition",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${k(i.schedule_type)}`,children:E(i.schedule_type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i.name}),e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full mt-1 ${k(i.schedule_type)}`,children:i.schedule_type.replace("_"," ")})]})]}),i.description&&e.jsx("p",{className:"text-gray-700",children:M(i.description,8)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Duration"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[i.total_duration_months," months"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(i.total_duration_months/12).toFixed(1)," years"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cliff Period"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[i.cliff_months," months"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Vesting Frequency"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:i.vesting_frequency})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Template"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.is_template?"Yes":"No"})]})]}),i.milestones&&i.milestones.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Vesting Milestones"}),e.jsx("div",{className:"space-y-3",children:i.milestones.map((s,t)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Milestone ",t+1]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[s.vesting_percentage,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Type"}),e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:s.milestone_type.replace("_"," ")})]}),s.months_from_start!==null&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Timing"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[s.months_from_start," months"]})]})]})]},s.id||t))})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4",children:e.jsx("button",{onClick:()=>S(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:"Close"})})]})})]})}export{ce as default};
