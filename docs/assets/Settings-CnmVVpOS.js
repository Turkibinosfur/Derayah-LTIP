import{s as g,a as B,b as R,j as e}from"./index-CHcuUdej.js";import{r as p}from"./react-vendor-xiFAdxLt.js";import{q as M,g as q,y as Y,X as z,p as Q,R as V,c as W,V as G,W as H}from"./ui-vendor-a8g5-7pO.js";import"./supabase-vendor-B-LuImWU.js";const E=[{symbol:"2222",name_en:"Saudi Aramco",name_ar:"أرامكو السعودية",market:"main"},{symbol:"4084",name_en:"Derayah Financial",name_ar:"دارة المالية",market:"main"},{symbol:"1010",name_en:"Saudi Basic Industries Corporation",name_ar:"الشركة السعودية للصناعات الأساسية",market:"main"},{symbol:"1120",name_en:"Al Rajhi Bank",name_ar:"مصرف الراجحي",market:"main"},{symbol:"1150",name_en:"Alinma Bank",name_ar:"مصرف الإنماء",market:"main"},{symbol:"1180",name_en:"Saudi National Bank",name_ar:"البنك الأهلي السعودي",market:"main"},{symbol:"1211",name_en:"Saudi Arabian Mining Company",name_ar:"شركة التعدين العربية السعودية",market:"main"},{symbol:"2010",name_en:"Saudi Cement Company",name_ar:"شركة الأسمنت السعودية",market:"main"},{symbol:"2030",name_en:"Saudi Petrochemical Company",name_ar:"الشركة السعودية للصناعات البتروكيماوية",market:"main"},{symbol:"2050",name_en:"Savola Group",name_ar:"مجموعة صافولا",market:"main"},{symbol:"2060",name_en:"National Industrialization Company",name_ar:"الشركة الوطنية للصناعات الأساسية",market:"main"},{symbol:"2110",name_en:"Saudi Cement",name_ar:"الأسمنت السعودية",market:"main"},{symbol:"2220",name_en:"Saudi Chemical Company",name_ar:"الشركة السعودية للكيماويات",market:"main"},{symbol:"2230",name_en:"Saudi Chemical",name_ar:"الكيماويات السعودية",market:"main"},{symbol:"2240",name_en:"Zamil Industrial Investment",name_ar:"استثمارات زامل الصناعية",market:"main"},{symbol:"2250",name_en:"Saudi Ceramic Company",name_ar:"شركة الخزف السعودي",market:"main"},{symbol:"2280",name_en:"Almarai Company",name_ar:"شركة المراعي",market:"main"},{symbol:"2290",name_en:"Yanbu Cement Company",name_ar:"شركة أسمنت ينبع",market:"main"},{symbol:"2300",name_en:"Saudi Steel Pipe Company",name_ar:"شركة أنابيب الصلب السعودية",market:"main"},{symbol:"2310",name_en:"Saudi Arabian Fertilizer Company",name_ar:"الشركة السعودية للصناعات الأساسية",market:"main"},{symbol:"2330",name_en:"Advanced Petrochemical Company",name_ar:"الشركة المتقدمة للبتروكيماويات",market:"main"},{symbol:"2350",name_en:"Saudi Kayan Petrochemical Company",name_ar:"الشركة السعودية للكيان للبتروكيماويات",market:"main"},{symbol:"2380",name_en:"Petro Rabigh",name_ar:"بترو رابغ",market:"main"},{symbol:"3001",name_en:"Saudi Industrial Investment Group",name_ar:"مجموعة الاستثمار الصناعي السعودي",market:"main"},{symbol:"3002",name_en:"Najran Cement Company",name_ar:"شركة أسمنت نجران",market:"main"},{symbol:"3003",name_en:"City Cement Company",name_ar:"شركة أسمنت المدينة",market:"main"},{symbol:"3004",name_en:"Eastern Province Cement Company",name_ar:"شركة أسمنت المنطقة الشرقية",market:"main"},{symbol:"3005",name_en:"Qassim Cement Company",name_ar:"شركة أسمنت القصيم",market:"main"},{symbol:"3007",name_en:"Saudi Cement Company",name_ar:"شركة الأسمنت السعودية",market:"main"},{symbol:"3008",name_en:"Al Jouf Cement Company",name_ar:"شركة أسمنت الجوف",market:"main"},{symbol:"3020",name_en:"Yamama Saudi Cement Company",name_ar:"شركة أسمنت اليمامة السعودية",market:"main"},{symbol:"4001",name_en:"Abdullah Al Othaim Markets",name_ar:"أسواق عبدالله العثيم",market:"main"},{symbol:"4002",name_en:"Mouwasat Medical Services",name_ar:"خدمات المواسط الطبية",market:"main"},{symbol:"4003",name_en:"Extra Co",name_ar:"إكسترا",market:"main"},{symbol:"4004",name_en:"Dallah Healthcare",name_ar:"دلة للرعاية الصحية",market:"main"},{symbol:"4005",name_en:"National Medical Care",name_ar:"الرعاية الطبية الوطنية",market:"main"},{symbol:"4013",name_en:"Dr. Sulaiman Al Habib Medical",name_ar:"د. سليمان الحبيب الطبية",market:"main"},{symbol:"2223",name_en:"NOMU Company 1",name_ar:"شركة نمو 1",market:"nomu"},{symbol:"2224",name_en:"NOMU Company 2",name_ar:"شركة نمو 2",market:"nomu"},{symbol:"2225",name_en:"NOMU Company 3",name_ar:"شركة نمو 3",market:"nomu"}];function J(n){const c=n.toLowerCase();return E.filter(i=>i.symbol.toLowerCase().includes(c)||i.name_en.toLowerCase().includes(c)||i.name_ar.includes(n))}function K(n){return E.find(c=>c.symbol===n)}async function P(n,c="main"){try{const{data:i,error:o}=await g.from("market_data").select("tadawul_symbol, closing_price, trading_date, volume").eq("tadawul_symbol",n).order("trading_date",{ascending:!1}).limit(1).maybeSingle();return o?(console.error("Error fetching from market_data:",o),null):i&&i.closing_price?{symbol:n,price:Number(i.closing_price),change:0,changePercent:0,volume:Number(i.volume||0),lastUpdate:i.trading_date||new Date().toISOString(),market:c}:(console.warn(`Price not found for symbol ${n} in market_data table`),null)}catch(i){return console.error("Error fetching Tadawul price:",i),null}}async function X(n,c="main"){var i,o;try{return{success:!1,error:"Supabase URL not configured"}}catch(r){console.error("Error calling fetch-tadawul-price function:",r);try{const l=await P(n,c);if(l)return{success:!0,price:l.price,source:"market_data_table"}}catch(l){console.error("Fallback also failed:",l)}return{success:!1,error:(r==null?void 0:r.message)||"Unknown error occurred. Please enter price manually."}}}async function Z(n,c,i="main"){try{const o=await X(c,i);if(o.success&&o.price!==void 0){const{error:m}=await g.from("companies").update({current_fmv:o.price,fmv_source:"tadawul",updated_at:new Date().toISOString()}).eq("id",n);return m?{success:!1,error:m.message}:{success:!0,price:o.price}}const r=await P(c,i);if(!r){const{data:m}=await g.from("companies").select("current_fmv, fmv_source").eq("id",n).maybeSingle();return m!=null&&m.current_fmv&&m.fmv_source==="manual"?{success:!1,error:`Price not found for symbol ${c}. Please enter the price manually in the "Current Share Price" field above.`,warning:"Using existing manual price"}:{success:!1,error:o.error||`Price not found for symbol ${c}. Please enter the price manually in the "Current Share Price" field above.`}}const{error:l}=await g.from("companies").update({current_fmv:r.price,fmv_source:"tadawul",updated_at:new Date().toISOString()}).eq("id",n);return l?{success:!1,error:l.message}:{success:!0,price:r.price}}catch(o){return{success:!1,error:(o==null?void 0:o.message)||"Unknown error occurred"}}}function se(){const{t:n,i18n:c}=B(),i=c.language==="ar",{brandColor:o}=R(),[r,l]=p.useState(null),[m,w]=p.useState(!0),[x,j]=p.useState(!1),[f,F]=p.useState(!1),[C,d]=p.useState(null),[k,b]=p.useState(!1),[h,_]=p.useState(""),[y,N]=p.useState("main");p.useEffect(()=>{$()},[]);const $=async()=>{try{const{data:{user:t}}=await g.auth.getUser();if(!t)return;const{data:a}=await g.from("company_users").select("company_id, companies(*)").eq("user_id",t.id).maybeSingle();if(a!=null&&a.companies){const s=a.companies,u=K(s.tadawul_symbol||""),v=s.tadawul_market||(u==null?void 0:u.market)||"main";l({...s,tadawul_symbol:(s.tadawul_symbol||"").toUpperCase(),tadawul_market:v,current_fmv:typeof s.current_fmv=="number"&&!Number.isNaN(s.current_fmv)?s.current_fmv:null,share_price:typeof s.current_fmv=="number"&&!Number.isNaN(s.current_fmv)?s.current_fmv:null,fmv_source:s.fmv_source??"tadawul",last_price_fetch:s.last_price_fetch||null,brand_color:s.brand_color||"#2563EB"}),N(v)}}catch(t){console.error("Error loading settings:",t)}finally{w(!1)}},D=async()=>{if(!r||!r.tadawul_symbol){d({type:"error",text:n("settings.pleaseSelectTadawulSymbol")});return}F(!0),d(null);try{const t=await Z(r.id,r.tadawul_symbol,y);if(t.success&&t.price!==void 0)await T(t.price),l(a=>a&&{...a,share_price:t.price,current_fmv:t.price,fmv_source:"tadawul",last_price_fetch:new Date().toISOString()}),d({type:"success",text:`Price fetched successfully: SAR ${t.price.toFixed(2)} (Note: Data may be delayed up to 15 minutes)`});else{const a=t.error||"Failed to fetch price from Tadawul.";a.includes("not deployed")||a.includes("Function not found")?d({type:"error",text:'Edge Function not deployed. Please deploy it using: supabase functions deploy fetch-tadawul-price. For now, you can enter the price manually in the "Current Share Price" field above.'}):d({type:"error",text:`${a} You can enter the price manually in the "Current Share Price" field above.`})}}catch(t){console.error("Error fetching price:",t),d({type:"error",text:(t==null?void 0:t.message)||n("settings.failedToFetchPrice")})}finally{F(!1)}},T=async t=>{if(!(!r||!r.tadawul_symbol))try{const{error:a}=await g.rpc("update_market_price",{p_symbol:r.tadawul_symbol,p_closing_price:t,p_trading_date:new Date().toISOString().split("T")[0],p_source:"Manual Update from Settings"});if(a){console.error("Error updating market_data:",a);const{error:s}=await g.from("market_data").upsert({tadawul_symbol:r.tadawul_symbol,trading_date:new Date().toISOString().split("T")[0],closing_price:t,opening_price:t,high_price:t,low_price:t,source:"Manual Update from Settings",last_updated:new Date().toISOString()},{onConflict:"tadawul_symbol,trading_date"});s&&console.error("Error with direct update:",s)}}catch(a){console.error("Error updating market data:",a)}},U=async()=>{var t;if(r){j(!0),d(null);try{const a=(r.tadawul_symbol||"").trim().toUpperCase();if(!a){d({type:"error",text:"Tadawul symbol is required to save settings."}),j(!1);return}const s=r.share_price!==null&&r.share_price!==void 0?r.share_price:r.current_fmv,u=r.current_fmv!==null&&r.current_fmv!==s&&r.current_fmv>0,v=r.brand_color||"#2563EB",O=/^#[0-9A-F]{6}$/i.test(v)?v:"#2563EB",{error:I}=await g.from("companies").update({company_name_en:r.company_name_en,company_name_ar:r.company_name_ar,fiscal_year_end:r.fiscal_year_end,tadawul_symbol:a,current_fmv:s,fmv_source:u?"manual":s?"tadawul":null,brand_color:O,updated_at:new Date().toISOString()}).eq("id",r.id);if(I)throw I;l(S=>S&&{...S,tadawul_symbol:a,current_fmv:s,fmv_source:u?"manual":s?"tadawul":null}),d({type:"success",text:n("settings.settingsSavedSuccessfully")})}catch(a){console.error("Error saving settings:",a);let s=n("settings.failedToSaveSettings");a!=null&&a.message?s=a.message:(t=a==null?void 0:a.error)!=null&&t.message?s=a.error.message:a!=null&&a.error&&typeof a.error=="string"?s=a.error:typeof a=="string"&&(s=a),(s.includes("permission denied")||s.includes("new row violates row-level security"))&&(s="Permission denied: You do not have permission to update company settings. Please contact your administrator."),d({type:"error",text:`Failed to save settings: ${s}`})}finally{j(!1)}}},A=p.useMemo(()=>{let t=E.filter(a=>a.market===y);return h.trim()&&(t=J(h).filter(a=>a.market===y)),t.slice(0,50)},[h,y]),L=t=>{l(a=>a&&{...a,tadawul_symbol:t.symbol,tadawul_market:t.market}),N(t.market),b(!1),_("")};return m?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderBottomColor:o}})}):r?e.jsxs("div",{className:`space-y-6 ${i?"text-right":"text-left"}`,dir:i?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("settings.title")}),e.jsx("p",{className:"text-gray-600 mt-1",children:n("settings.description")})]}),C&&e.jsx("div",{className:`p-4 rounded-lg border ${C.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:C.text})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${o}15`},children:e.jsx(q,{className:"w-5 h-5",style:{color:o}})}),e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:n("settings.companyInformation")})]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name (English)"}),e.jsx("input",{type:"text",value:r.company_name_en,onChange:t=>l({...r,company_name_en:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name (Arabic)"}),e.jsx("input",{type:"text",value:r.company_name_ar,onChange:t=>l({...r,company_name_ar:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-right",dir:"rtl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number"}),e.jsx("input",{type:"text",value:r.registration_number,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n("settings.cannotBeChanged")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiscal Year End"}),e.jsx("input",{type:"date",value:r.fiscal_year_end,onChange:t=>l({...r,fiscal_year_end:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tadawul Symbol"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("button",{type:"button",onClick:()=>{N("main"),b(!1),_("")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${y==="main"?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:y==="main"?{backgroundColor:o}:{},children:"Main Market"}),e.jsx("button",{type:"button",onClick:()=>{N("nomu"),b(!1),_("")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${y==="nomu"?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:y==="nomu"?{backgroundColor:o}:{},children:"NOMU Market"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:h||r.tadawul_symbol,onChange:t=>{_(t.target.value),b(!0),t.target.value||l(a=>a&&{...a,tadawul_symbol:""})},onFocus:()=>b(!0),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent uppercase",placeholder:"Search or select company..."}),h&&e.jsx("button",{type:"button",onClick:()=>{_(""),b(!1)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(z,{className:"w-4 h-4"})})]}),e.jsx("button",{type:"button",onClick:()=>b(!k),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:e.jsx(Q,{className:`w-5 h-5 transition-transform ${k?"rotate-180":""}`})})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:A.length>0?A.map(t=>e.jsx("button",{type:"button",onClick:()=>L(t),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[t.symbol," - ",t.name_en]}),e.jsx("div",{className:"text-sm text-gray-500",children:t.name_ar})]}),e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded ml-2",children:t.market.toUpperCase()})]})},t.symbol)):e.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No companies found. Try a different search term."})}),e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>b(!1)})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Search and select from listed companies or type a custom symbol."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Share Price (SAR)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",value:r.share_price??r.current_fmv??"",onChange:t=>{const a=t.target.value,s=a===""?null:Number(a);l({...r,share_price:s,current_fmv:s}),s!==null&&s>0&&r.tadawul_symbol&&T(s)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"}),e.jsx("button",{type:"button",onClick:D,disabled:f||!r.tadawul_symbol,className:"px-4 py-2 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center gap-2",style:{backgroundColor:o,opacity:f||!r.tadawul_symbol?.5:1},onMouseEnter:t=>{if(!f&&r.tadawul_symbol){const a=parseInt(o.slice(1,3),16)*.9,s=parseInt(o.slice(3,5),16)*.9,u=parseInt(o.slice(5,7),16)*.9;t.currentTarget.style.backgroundColor=`rgb(${Math.round(a)}, ${Math.round(s)}, ${Math.round(u)})`}},onMouseLeave:t=>{!f&&r.tadawul_symbol&&(t.currentTarget.style.backgroundColor=o)},title:"Fetch latest price from Tadawul (may be delayed up to 15 minutes)",children:f?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"hidden sm:inline",children:"Fetching..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:n("settings.fetchPrice")})]})})]}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:r.fmv_source==="tadawul"?e.jsx("span",{className:"text-green-600",children:"Source: Tadawul"}):r.fmv_source==="manual"?e.jsx("span",{className:"text-blue-600",children:"Source: Manual"}):e.jsx("span",{className:"text-gray-500",children:n("settings.notSet")})}),r.last_price_fetch&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last fetched: ",new Date(r.last_price_fetch).toLocaleString()]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Price may be delayed up to 15 minutes from Tadawul."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manual FMV Override (SAR)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:r.current_fmv&&r.current_fmv!==r.share_price?r.current_fmv:"",onChange:t=>{const a=t.target.value;l({...r,current_fmv:a===""?r.share_price:Number(a),fmv_source:a===""?"tadawul":"manual"})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:n("settings.optionalOverride")}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override share price with manual FMV. Leave blank to use share price above."})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Color"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"color",value:r.brand_color||"#2563EB",onChange:t=>l({...r,brand_color:t.target.value}),className:"w-20 h-10 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx("input",{type:"text",value:r.brand_color||"#2563EB",onChange:t=>{const a=t.target.value;(/^#[0-9A-F]{0,6}$/i.test(a)||a==="")&&l({...r,brand_color:a===""?"#2563EB":(a.startsWith("#")?a:`#${a}`).substring(0,7)})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"#2563EB",maxLength:7})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your company's primary brand color. This will be used throughout the portal for buttons, highlights, and UI elements."})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(G,{className:"w-5 h-5 text-green-600"})}),e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:n("settings.sharePoolConfiguration")})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n("settings.totalReserved")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Number(r.total_reserved_shares).toLocaleString()})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n("settings.available")}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:Number(r.available_shares).toLocaleString()})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n("settings.granted")}),e.jsx("p",{className:"text-2xl font-bold text-orange-700",children:Number(r.shares_granted).toLocaleString()})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n("settings.vested")}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:Number(r.shares_vested).toLocaleString()})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(M,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Share pool is read-only"}),e.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Share allocations are automatically calculated based on your incentive plans and grants. Contact support to adjust the total reserved shares."})]})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:U,disabled:x,className:"flex items-center space-x-2 px-6 py-3 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition",style:{backgroundColor:o,opacity:x?.5:1},onMouseEnter:t=>{if(!x){const a=parseInt(o.slice(1,3),16)*.9,s=parseInt(o.slice(3,5),16)*.9,u=parseInt(o.slice(5,7),16)*.9;t.currentTarget.style.backgroundColor=`rgb(${Math.round(a)}, ${Math.round(s)}, ${Math.round(u)})`}},onMouseLeave:t=>{x||(t.currentTarget.style.backgroundColor=o)},children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:n(x?"settings.saving":"settings.saveChanges")})]})})]}):e.jsxs("div",{className:"bg-white rounded-xl p-12 border border-gray-200 text-center",children:[e.jsx(M,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:n("settings.noCompanyFound")}),e.jsx("p",{className:"text-gray-600",children:n("settings.unableToLoadSettings")})]})}export{se as default};
