const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-BtUHbsGj.js","assets/react-vendor-xiFAdxLt.js","assets/ui-vendor-a8g5-7pO.js","assets/supabase-vendor-B-LuImWU.js","assets/Dashboard-CjFD_o8l.js","assets/vestingEventsService-BxvgAzhC.js","assets/dateUtils-DoPl8O0G.js","assets/VestingEventsCalendar-BmRKjrzq.js","assets/Employees-DnRrDgTg.js","assets/Plans-Cqi_6fLF.js","assets/Grants-C3IRHsiN.js","assets/vestingUtils-Y6bbk_Ca.js","assets/InteractiveVestingTimeline-BGQYyTWM.js","assets/numberUtils-CWVJ76A6.js","assets/Portfolio-CJD4n3Gs.js","assets/Settings-CnmVVpOS.js","assets/CapTable-EFzAz_ap.js","assets/LTIPPools-DFydxkQw.js","assets/VestingSchedules-CkQxKrZ3.js","assets/VestingEvents-D03Ony88.js","assets/Transfers-kpkyKcew.js","assets/PerformanceMetrics-BPk0W0Wt.js","assets/Documents-BwLRRYZi.js","assets/Users-By3doBF6.js","assets/EmployeeLogin-DD2Xdhex.js","assets/EmployeeDashboard-b07uHzfB.js","assets/PortfolioValuation-DO40RP8Y.js","assets/PerformanceChart-hVdx1R8I.js","assets/EmployeeVesting-C8zHQbhc.js","assets/EmployeePerformance-CDukxINj.js","assets/EmployeePortfolio-Crlarkv_.js","assets/EmployeeTaxCalculator-BAVpA_6e.js","assets/EmployeeZakatCalculator-BTpII1dk.js","assets/EmployeeDocuments-Bh7LqGYJ.js","assets/EmployeeNotifications-GZQJgNL4.js","assets/Onboarding-Cg_rJqXW.js","assets/OperatorCompanies-D19YD3rQ.js","assets/OperatorSubscriptions-CYkYMbPF.js","assets/OperatorBuybackRequests-BCb__8Bu.js","assets/OperatorPortfolios-NWwrcbFv.js","assets/Translations-DTsBFN8J.js","assets/CustomerJourney-BVuvPq6a.js","assets/LandingOptionOne-B4n5MTrd.js","assets/LandingLoginButtons-fKo2kqyb.js","assets/LandingOptionTwo-Ddbc71rd.js","assets/LandingOptionThree-DNDgSBMf.js","assets/LandingOptionFour-CJ6xHKrO.js","assets/LandingOptionFive-n9W18AAL.js","assets/LandingOptionFiveAR-FFn5dkcN.js","assets/LandingOptionSix-X1N7HLqs.js"])))=>i.map(i=>d[i]);
var Vt=Object.defineProperty;var It=(s,e,t)=>e in s?Vt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ge=(s,e,t)=>It(s,typeof e!="symbol"?e+"":e,t);import{r as m,a as $t,u as ft,b as qe,L as we,B as Ut,R as Ft,d as N,N as ie}from"./react-vendor-xiFAdxLt.js";import{c as zt,_ as C}from"./supabase-vendor-B-LuImWU.js";import{G as Mt,L as Bt,U as Je,A as ve,F as $e,C as Kt,a as qt,T as Ht,b as Ue,P as Gt,c as Fe,M as Jt,S as Wt,d as Yt,e as Qt,B as gt,f as Zt,g as Xt,X as ht,h as yt,i as xt,j as ze,k as en,D as tn}from"./ui-vendor-a8g5-7pO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var bt={exports:{}},ke={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=m,sn=Symbol.for("react.element"),on=Symbol.for("react.fragment"),an=Object.prototype.hasOwnProperty,rn=nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ln={key:!0,ref:!0,__self:!0,__source:!0};function vt(s,e,t){var n,a={},o=null,i=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)an.call(e,n)&&!ln.hasOwnProperty(n)&&(a[n]=e[n]);if(s&&s.defaultProps)for(n in e=s.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:sn,type:s,key:o,ref:i,props:a,_owner:rn.current}}ke.Fragment=on;ke.jsx=vt;ke.jsxs=vt;bt.exports=ke;var r=bt.exports,wt,We=$t;wt=We.createRoot,We.hydrateRoot;function cn(){if(console&&console.warn){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];re(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Ye={};function Me(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];re(e[0])&&Ye[e[0]]||(re(e[0])&&(Ye[e[0]]=new Date),cn(...e))}const St=(s,e)=>()=>{if(s.isInitialized)e();else{const t=()=>{setTimeout(()=>{s.off("initialized",t)},0),e()};s.on("initialized",t)}},Qe=(s,e,t)=>{s.loadNamespaces(e,St(s,t))},Ze=(s,e,t,n)=>{re(t)&&(t=[t]),t.forEach(a=>{s.options.ns.indexOf(a)<0&&s.options.ns.push(a)}),s.loadLanguages(e,St(s,n))},un=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],a=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=e.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!i(e.isLanguageChangingTo,s)?!1:!!(e.hasResourceBundle(n,s)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||i(n,s)&&(!a||i(o,s)))},dn=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Me("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(s,{lng:t.lng,precheck:(a,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,s))return!1}}):un(s,e,t)},re=s=>typeof s=="string",pn=s=>typeof s=="object"&&s!==null,mn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fn={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},gn=s=>fn[s],hn=s=>s.replace(mn,gn);let Be={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hn};const yn=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Be={...Be,...s}},xn=()=>Be;let _t;const bn=s=>{_t=s},vn=()=>_t,wn={type:"3rdParty",init(s){yn(s.options.react),bn(s)}},Sn=m.createContext();class _n{constructor(){Ge(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}}const jn=(s,e)=>{const t=m.useRef();return m.useEffect(()=>{t.current=s},[s,e]),t.current},jt=(s,e,t,n)=>s.getFixedT(e,t,n),Pn=(s,e,t,n)=>m.useCallback(jt(s,e,t,n),[s,e,t,n]),Te=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:n,defaultNS:a}=m.useContext(Sn)||{},o=t||n||vn();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new _n),!o){Me("You will need to pass in an i18next instance by using initReactI18next");const v=(T,E)=>re(E)?E:pn(E)&&re(E.defaultValue)?E.defaultValue:Array.isArray(T)?T[T.length-1]:T,k=[v,{},!1];return k.t=v,k.i18n={},k.ready=!1,k}o.options.react&&o.options.react.wait!==void 0&&Me("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...xn(),...o.options.react,...e},{useSuspense:l,keyPrefix:c}=i;let u=a||o.options&&o.options.defaultNS;u=re(u)?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const p=(o.isInitialized||o.initializedStoreOnce)&&u.every(v=>dn(v,o,i)),f=Pn(o,e.lng||null,i.nsMode==="fallback"?u:u[0],c),d=()=>f,g=()=>jt(o,e.lng||null,i.nsMode==="fallback"?u:u[0],c),[x,j]=m.useState(d);let y=u.join();e.lng&&(y=`${e.lng}${y}`);const D=jn(y),S=m.useRef(!0);m.useEffect(()=>{const{bindI18n:v,bindI18nStore:k}=i;S.current=!0,!p&&!l&&(e.lng?Ze(o,e.lng,u,()=>{S.current&&j(g)}):Qe(o,u,()=>{S.current&&j(g)})),p&&D&&D!==y&&S.current&&j(g);const T=()=>{S.current&&j(g)};return v&&o&&o.on(v,T),k&&o&&o.store.on(k,T),()=>{S.current=!1,v&&o&&v.split(" ").forEach(E=>o.off(E,T)),k&&o&&k.split(" ").forEach(E=>o.store.off(E,T))}},[o,y]),m.useEffect(()=>{S.current&&p&&j(d)},[o,c,p]);const z=[x,o,p];if(z.t=x,z.i18n=o,z.ready=p,p||!p&&!l)return z;throw new Promise(v=>{e.lng?Ze(o,e.lng,u,()=>v()):Qe(o,u,()=>v())})},b=s=>typeof s=="string",he=()=>{let s,e;const t=new Promise((n,a)=>{s=n,e=a});return t.resolve=s,t.reject=e,t},Xe=s=>s==null?"":""+s,Nn=(s,e,t)=>{s.forEach(n=>{e[n]&&(t[n]=e[n])})},Cn=/###/g,et=s=>s&&s.indexOf("###")>-1?s.replace(Cn,"."):s,tt=s=>!s||b(s),Se=(s,e,t)=>{const n=b(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(tt(s))return{};const o=et(n[a]);!s[o]&&t&&(s[o]=new t),Object.prototype.hasOwnProperty.call(s,o)?s=s[o]:s={},++a}return tt(s)?{}:{obj:s,k:et(n[a])}},nt=(s,e,t)=>{const{obj:n,k:a}=Se(s,e,Object);if(n!==void 0||e.length===1){n[a]=t;return}let o=e[e.length-1],i=e.slice(0,e.length-1),l=Se(s,i,Object);for(;l.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),l=Se(s,i,Object),l&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=t},Ln=(s,e,t,n)=>{const{obj:a,k:o}=Se(s,e,Object);a[o]=a[o]||[],a[o].push(t)},Le=(s,e)=>{const{obj:t,k:n}=Se(s,e);if(t)return t[n]},Dn=(s,e,t)=>{const n=Le(s,t);return n!==void 0?n:Le(e,t)},Pt=(s,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in s?b(s[n])||s[n]instanceof String||b(e[n])||e[n]instanceof String?t&&(s[n]=e[n]):Pt(s[n],e[n],t):s[n]=e[n]);return s},pe=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var En={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const On=s=>b(s)?s.replace(/[&<>"'\/]/g,e=>En[e]):s;class kn{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Tn=[" ",",","?","!",";"],Rn=new kn(20),An=(s,e,t)=>{e=e||"",t=t||"";const n=Tn.filter(i=>e.indexOf(i)<0&&t.indexOf(i)<0);if(n.length===0)return!0;const a=Rn.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!a.test(s);if(!o){const i=s.indexOf(t);i>0&&!a.test(s.substring(0,i))&&(o=!0)}return o},Ke=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[e])return s[e];const n=e.split(t);let a=s;for(let o=0;o<n.length;){if(!a||typeof a!="object")return;let i,l="";for(let c=o;c<n.length;++c)if(c!==o&&(l+=t),l+=n[c],i=a[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;o+=c-o+1;break}a=i}return a},De=s=>s&&s.replace("_","-"),Vn={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console&&console[s]&&console[s].apply(console,e)}};class Ee{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Vn,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,a){return a&&!this.debug?null:(b(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ee(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ee(this.logger,e)}}var ee=new Ee;class Re{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(t)||0;this.observers[n].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(i=>{let[l,c]=i;for(let u=0;u<c;u++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[l,c]=i;for(let u=0;u<c;u++)l.apply(l,[e,...n])})}}class st extends Re{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],n&&(Array.isArray(n)?l.push(...n):b(n)&&o?l.push(...n.split(o)):l.push(n)));const c=Le(this.data,l);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=l[0],t=l[1],n=l.slice(2).join(".")),c||!i||!b(n)?c:Ke(this.data&&this.data[e]&&this.data[e][t],n,o)}addResource(e,t,n,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[e,t];n&&(l=l.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(l=e.split("."),a=t,t=l[1]),this.addNamespaces(t),nt(this.data,l,a),o.silent||this.emit("added",e,t,n,a)}addResources(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in n)(b(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});a.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,a,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),a=n,n=t,t=l[1]),this.addNamespaces(t);let c=Le(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?Pt(c,n,o):c={...c,...n},nt(this.data,l,c),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var Nt={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,n,a){return s.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,t,n,a))}),e}};const ot={};class Oe extends Re{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Nn(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ee.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,t);return n&&n.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!An(e,n,a);if(i&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:b(o)?[o]:o};const u=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(a)}return{key:e,namespaces:b(o)?[o]:o}}translate(e,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:i,namespaces:l}=this.extractFromKey(e[e.length-1],t),c=l[l.length-1],u=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(p){const v=t.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${v}${i}`,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${v}${i}`}return a?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:i}const f=this.resolve(e,t);let d=f&&f.res;const g=f&&f.usedKey||i,x=f&&f.exactUsedKey||i,j=Object.prototype.toString.apply(d),y=["[object Number]","[object Function]","[object RegExp]"],D=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,z=!b(d)&&typeof d!="boolean"&&typeof d!="number";if(S&&d&&z&&y.indexOf(j)<0&&!(b(D)&&Array.isArray(d))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const v=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,d,{...t,ns:l}):`key '${i} (${this.language})' returned an object instead of string.`;return a?(f.res=v,f.usedParams=this.getUsedParamsDetails(t),f):v}if(o){const v=Array.isArray(d),k=v?[]:{},T=v?x:g;for(const E in d)if(Object.prototype.hasOwnProperty.call(d,E)){const W=`${T}${o}${E}`;k[E]=this.translate(W,{...t,joinArrays:!1,ns:l}),k[E]===W&&(k[E]=d[E])}d=k}}else if(S&&b(D)&&Array.isArray(d))d=d.join(D),d&&(d=this.extendTranslation(d,e,t,n));else{let v=!1,k=!1;const T=t.count!==void 0&&!b(t.count),E=Oe.hasDefaultValue(t),W=T?this.pluralResolver.getSuffix(u,t.count,t):"",Z=t.ordinal&&T?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",te=T&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),X=te&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${W}`]||t[`defaultValue${Z}`]||t.defaultValue;!this.isValidLookup(d)&&E&&(v=!0,d=X),this.isValidLookup(d)||(k=!0,d=i);const ce=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:d,h=E&&X!==d&&this.options.updateMissing;if(k||v||h){if(this.logger.log(h?"updateKey":"missingKey",u,c,i,h?X:d),o){const O=this.resolve(i,{...t,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let O=0;O<I.length;O++)L.push(I[O]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(t.lng||this.language):L.push(t.lng||this.language);const P=(O,Y,$)=>{const M=E&&$!==d?$:ce;this.options.missingKeyHandler?this.options.missingKeyHandler(O,c,Y,M,h,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,c,Y,M,h,t),this.emit("missingKey",O,c,Y,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?L.forEach(O=>{const Y=this.pluralResolver.getSuffixes(O,t);te&&t[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach($=>{P([O],i+$,t[`defaultValue${$}`]||X)})}):P(L,i,X))}d=this.extendTranslation(d,e,t,f,n),k&&d===i&&this.options.appendNamespaceToMissingKey&&(d=`${c}:${i}`),(k||v)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${i}`:i,v?d:void 0):d=this.options.parseMissingKeyHandler(d))}return a?(f.res=d,f.usedParams=this.getUsedParamsDetails(t),f):d}extendTranslation(e,t,n,a,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=b(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(u){const d=e.match(this.interpolator.nestingRegexp);p=d&&d.length}let f=n.replace&&!b(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||a.usedLng,n),u){const d=e.match(this.interpolator.nestingRegexp),g=d&&d.length;p<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,g=new Array(d),x=0;x<d;x++)g[x]=arguments[x];return o&&o[0]===g[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${t[0]}`),null):i.translate(...g,t)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=b(l)?[l]:l;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=Nt.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,a,o,i,l;return b(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,t),p=u.key;a=p;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=t.count!==void 0&&!b(t.count),g=d&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),x=t.context!==void 0&&(b(t.context)||typeof t.context=="number")&&t.context!=="",j=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(y=>{this.isValidLookup(n)||(l=y,!ot[`${j[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(ot[`${j[0]}-${y}`]=!0,this.logger.warn(`key "${a}" for languages "${j.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(D=>{if(this.isValidLookup(n))return;i=D;const S=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,p,D,y,t);else{let v;d&&(v=this.pluralResolver.getSuffix(D,t.count,t));const k=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(S.push(p+v),t.ordinal&&v.indexOf(T)===0&&S.push(p+v.replace(T,this.options.pluralSeparator)),g&&S.push(p+k)),x){const E=`${p}${this.options.contextSeparator}${t.context}`;S.push(E),d&&(S.push(E+v),t.ordinal&&v.indexOf(T)===0&&S.push(E+v.replace(T,this.options.pluralSeparator)),g&&S.push(E+k))}}let z;for(;z=S.pop();)this.isValidLookup(n)||(o=z,n=this.getResource(D,y,z,t))}))})}),{res:n,usedKey:a,exactUsedKey:o,usedLng:i,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,a):this.resourceStore.getResource(e,t,n,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!b(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const o of t)delete a[o]}return a}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}const Ae=s=>s.charAt(0).toUpperCase()+s.slice(1);class at{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ee.create("languageUtils")}getScriptPartFromCode(e){if(e=De(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=De(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(b(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let a=Intl.getCanonicalLocales(e)[0];if(a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a)return a}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(a=>a.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ae(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ae(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ae(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),b(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return b(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):b(e)&&o(this.formatLanguageCode(e)),n.forEach(i=>{a.indexOf(i)<0&&o(this.formatLanguageCode(i))}),a}}let In=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],$n={1:s=>+(s>1),2:s=>+(s!=1),3:s=>0,4:s=>s%10==1&&s%100!=11?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,5:s=>s==0?0:s==1?1:s==2?2:s%100>=3&&s%100<=10?3:s%100>=11?4:5,6:s=>s==1?0:s>=2&&s<=4?1:2,7:s=>s==1?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,8:s=>s==1?0:s==2?1:s!=8&&s!=11?2:3,9:s=>+(s>=2),10:s=>s==1?0:s==2?1:s<7?2:s<11?3:4,11:s=>s==1||s==11?0:s==2||s==12?1:s>2&&s<20?2:3,12:s=>+(s%10!=1||s%100==11),13:s=>+(s!==0),14:s=>s==1?0:s==2?1:s==3?2:3,15:s=>s%10==1&&s%100!=11?0:s%10>=2&&(s%100<10||s%100>=20)?1:2,16:s=>s%10==1&&s%100!=11?0:s!==0?1:2,17:s=>s==1||s%10==1&&s%100!=11?0:1,18:s=>s==0?0:s==1?1:2,19:s=>s==1?0:s==0||s%100>1&&s%100<11?1:s%100>10&&s%100<20?2:3,20:s=>s==1?0:s==0||s%100>0&&s%100<20?1:2,21:s=>s%100==1?1:s%100==2?2:s%100==3||s%100==4?3:0,22:s=>s==1?0:s==2?1:(s<0||s>10)&&s%10==0?2:3};const Un=["v1","v2","v3"],Fn=["v4"],rt={zero:0,one:1,two:2,few:3,many:4,other:5},zn=()=>{const s={};return In.forEach(e=>{e.lngs.forEach(t=>{s[t]={numbers:e.nr,plurals:$n[e.fc]}})}),s};class Mn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ee.create("pluralResolver"),(!this.options.compatibilityJSON||Fn.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=zn(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=De(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(n,{type:a})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(c,t)}return this.pluralRulesCache[o]=i,i}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((a,o)=>rt[a]-rt[o]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):n.numbers.map(a=>this.getSuffix(e,a,t)):[]}getSuffix(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,n);return a?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:this.getSuffixRetroCompatible(a,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let a=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const o=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Un.includes(this.options.compatibilityJSON)}}const it=function(s,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Dn(s,e,t);return!o&&a&&b(t)&&(o=Ke(s,t,n),o===void 0&&(o=Ke(e,t,n))),o},Ve=s=>s.replace(/\$/g,"$$$$");class Bn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ee.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:a,prefix:o,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:p,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:g,nestingSuffix:x,nestingSuffixEscaped:j,nestingOptionsSeparator:y,maxReplaces:D,alwaysFormat:S}=e.interpolation;this.escape=t!==void 0?t:On,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?pe(o):i||"{{",this.suffix=l?pe(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=p?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=d?pe(d):g||pe("$t("),this.nestingSuffix=x?pe(x):j||pe(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=D||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,a){let o,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const D=it(t,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,n,{...a,...t,interpolationkey:g}):D}const x=g.split(this.formatSeparator),j=x.shift().trim(),y=x.join(this.formatSeparator).trim();return this.format(it(t,c,j,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...t,interpolationkey:j})};this.resetRegExp();const p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,f=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Ve(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Ve(this.escape(g)):Ve(g)}].forEach(g=>{for(l=0;o=g.regex.exec(e);){const x=o[1].trim();if(i=u(x),i===void 0)if(typeof p=="function"){const y=p(e,o,a);i=b(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,x))i="";else if(f){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),i="";else!b(i)&&!this.useRawValueToEscape&&(i=Xe(i));const j=g.safeValue(i);if(e=e.replace(o[0],j),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,i;const l=(c,u)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const f=c.split(new RegExp(`${p}[ ]*{`));let d=`{${f[1]}`;c=f[0],d=this.interpolate(d,i);const g=d.match(/'/g),x=d.match(/"/g);(g&&g.length%2===0&&!x||x.length%2!==0)&&(d=d.replace(/'/g,'"'));try{i=JSON.parse(d),u&&(i={...u,...i})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,j),`${c}${p}${d}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;a=this.nestingRegexp.exec(e);){let c=[];i={...n},i=i.replace&&!b(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const p=a[1].split(this.formatSeparator).map(f=>f.trim());a[1]=p.shift(),c=p,u=!0}if(o=t(l.call(this,a[1].trim(),i),i),o&&a[0]===e&&!b(o))return o;b(o)||(o=Xe(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),u&&(o=c.reduce((p,f)=>this.format(p,f,n.lng,{...n,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const Kn=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const n=s.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();t[p]||(t[p]=u),u==="false"&&(t[p]=!1),u==="true"&&(t[p]=!0),isNaN(u)||(t[p]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},me=s=>{const e={};return(t,n,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const i=n+JSON.stringify(o);let l=e[i];return l||(l=s(De(n),a),e[i]=l),l(t)}};class qn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ee.create("formatter"),this.options=e,this.formats={number:me((t,n)=>{const a=new Intl.NumberFormat(t,{...n});return o=>a.format(o)}),currency:me((t,n)=>{const a=new Intl.NumberFormat(t,{...n,style:"currency"});return o=>a.format(o)}),datetime:me((t,n)=>{const a=new Intl.DateTimeFormat(t,{...n});return o=>a.format(o)}),relativetime:me((t,n)=>{const a=new Intl.RelativeTimeFormat(t,{...n});return o=>a.format(o,n.range||"day")}),list:me((t,n)=>{const a=new Intl.ListFormat(t,{...n});return o=>a.format(o)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=me(t)}format(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,c)=>{const{formatName:u,formatOptions:p}=Kn(c);if(this.formats[u]){let f=l;try{const d=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=d.locale||d.lng||a.locale||a.lng||n;f=this.formats[u](l,g,{...p,...a,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const Hn=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class Gn extends Re{constructor(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=ee.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,a.backend,a)}queueLoad(e,t,n,a){const o={},i={},l={},c={};return e.forEach(u=>{let p=!0;t.forEach(f=>{const d=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?i[d]===void 0&&(i[d]=!0):(this.state[d]=1,p=!1,i[d]===void 0&&(i[d]=!0),o[d]===void 0&&(o[d]=!0),c[f]===void 0&&(c[f]=!0)))}),p||(l[u]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,t,n){const a=e.split("|"),o=a[0],i=a[1];t&&this.emit("failedLoading",o,i,t),!t&&n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Ln(c.loaded,[o],i),Hn(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const p=c.loaded[u];p.length&&p.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:o,callback:i});return}this.readingCalls++;const l=(u,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&p&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,a+1,o*2,i)},o);return}i(u,p)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,t);u&&typeof u.then=="function"?u.then(p=>l(null,p)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,t,l)}prepareLoading(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();b(e)&&(e=this.languageUtils.toResolveHierarchy(e)),b(t)&&(t=[t]);const o=this.queueLoad(e,t,n,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),a=n[0],o=n[1];this.read(a,o,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${t}loading namespace ${o} for language ${a} failed`,i),!i&&l&&this.logger.log(`${t}loaded namespace ${o} for language ${a}`,l),this.loaded(e,i,l)})}saveMissing(e,t,n,a,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...i,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let p;u.length===5?p=u(e,t,n,a,c):p=u(e,t,n,a),p&&typeof p.then=="function"?p.then(f=>l(null,f)).catch(l):l(null,p)}catch(p){l(p)}else u(e,t,n,a,l,c)}!e||!e[0]||this.store.addResource(e[0],t,n,a)}}}const lt=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),b(s[1])&&(e.defaultValue=s[1]),b(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ct=s=>(b(s.ns)&&(s.ns=[s.ns]),b(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),b(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs&&s.supportedLngs.indexOf("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),s),Ne=()=>{},Jn=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class _e extends Re{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ct(e),this.services={},this.logger=ee,this.modules={external:[]},Jn(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(b(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=lt();this.options={...a,...this.options,...ct(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?ee.init(o(this.modules.logger),this.options):ee.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=qn);const f=new at(this.options);this.store=new st(this.options.resources,this.options);const d=this.services;d.logger=ee,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Mn(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(d.formatter=o(p),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Bn(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Gn(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(g){for(var x=arguments.length,j=new Array(x>1?x-1:0),y=1;y<x;y++)j[y-1]=arguments[y];e.emit(g,...j)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Oe(this.services,this.options),this.translator.on("*",function(g){for(var x=arguments.length,j=new Array(x>1?x-1:0),y=1;y<x;y++)j[y-1]=arguments[y];e.emit(g,...j)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ne),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});const c=he(),u=()=>{const p=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(d),n(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne;const a=b(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],i=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};a?i(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>i(c)),this.options.preload&&this.options.preload.forEach(l=>i(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,t,n){const a=he();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Ne),this.services.backendConnector.reload(e,t,o=>{a.resolve(),n(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Nt.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const a=he();this.emit("languageChanging",e);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),t&&t(c,function(){return n.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const u=b(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,p=>{i(p,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),a}getFixedT(e,t,n){var a=this;const o=function(i,l){let c;if(typeof l!="object"){for(var u=arguments.length,p=new Array(u>2?u-2:0),f=2;f<u;f++)p[f-2]=arguments[f];c=a.options.overloadTranslationOptionHandler([i,l].concat(p))}else c={...l};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);const d=a.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(i)?g=i.map(x=>`${c.keyPrefix}${d}${x}`):g=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i,a.t(g,c)};return b(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(t.precheck){const l=t.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,e)&&(!a||i(o,e)))}loadNamespaces(e,t){const n=he();return this.options.ns?(b(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=he();b(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(i=>a.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=a.concat(o),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new at(lt());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new _e(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new _e(a);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new st(this.store.data,a),o.services.resourceStore=o.store),o.translator=new Oe(o.services,a),o.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),p=1;p<c;p++)u[p-1]=arguments[p];o.emit(l,...u)}),o.init(a,t),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const V=_e.createInstance();V.createInstance=_e.createInstance;V.createInstance;V.dir;V.init;V.loadResources;V.reloadResources;V.use;V.changeLanguage;V.getFixedT;V.t;V.exists;V.setDefaultNamespace;V.hasLoadedNamespace;V.loadNamespaces;V.loadLanguages;function Wn(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function je(s){"@babel/helpers - typeof";return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(s)}function Yn(s,e){if(je(s)!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e);if(je(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function Qn(s){var e=Yn(s,"string");return je(e)=="symbol"?e:e+""}function Zn(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,Qn(n.key),n)}}function Xn(s,e,t){return e&&Zn(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}var Ct=[],es=Ct.forEach,ts=Ct.slice;function ns(s){return es.call(ts.call(arguments,1),function(e){if(e)for(var t in e)s[t]===void 0&&(s[t]=e[t])}),s}var ut=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ss=function(e,t,n){var a=n||{};a.path=a.path||"/";var o=encodeURIComponent(t),i="".concat(e,"=").concat(o);if(a.maxAge>0){var l=a.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(l))}if(a.domain){if(!ut.test(a.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(a.domain)}if(a.path){if(!ut.test(a.path))throw new TypeError("option path is invalid");i+="; Path=".concat(a.path)}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+="; Expires=".concat(a.expires.toUTCString())}if(a.httpOnly&&(i+="; HttpOnly"),a.secure&&(i+="; Secure"),a.sameSite){var c=typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite;switch(c){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i},dt={create:function(e,t,n,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),a&&(o.domain=a),document.cookie=ss(e,encodeURIComponent(t),o)},read:function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),a=0;a<n.length;a++){for(var o=n[a];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},os={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var n=dt.read(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&dt.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},as={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var a=n.substring(1),o=a.split("&"),i=0;i<o.length;i++){var l=o[i].indexOf("=");if(l>0){var c=o[i].substring(0,l);c===e.lookupQuerystring&&(t=o[i].substring(l+1))}}}return t}},ye=null,pt=function(){if(ye!==null)return ye;try{ye=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ye=!1}return ye},rs={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&pt()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&pt()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},xe=null,mt=function(){if(xe!==null)return xe;try{xe=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{xe=!1}return xe},is={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&mt()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&mt()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},ls={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},cs={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},us={name:"path",lookup:function(e){var t;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},ds={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},Lt=!1;try{document.cookie,Lt=!0}catch{}var Dt=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Lt||Dt.splice(1,1);function ps(){return{order:Dt,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Et=function(){function s(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wn(this,s),this.type="languageDetector",this.detectors={},this.init(e,t)}return Xn(s,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=ns(n,this.options||{},ps()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(os),this.addDetector(as),this.addDetector(rs),this.addDetector(is),this.addDetector(ls),this.addDetector(cs),this.addDetector(us),this.addDetector(ds)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var n=this;t||(t=this.options.order);var a=[];return t.forEach(function(o){if(n.detectors[o]){var i=n.detectors[o].lookup(n.options);i&&typeof i=="string"&&(i=[i]),i&&(a=a.concat(i))}}),a=a.map(function(o){return n.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}},{key:"cacheUserLanguage",value:function(t,n){var a=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(function(o){a.detectors[o]&&a.detectors[o].cacheUserLanguage(t,a.options)}))}}])}();Et.type="languageDetector";const ms=void 0,fs=void 0;throw new Error("Missing Supabase environment variables");const A=zt(ms,fs,{auth:{persistSession:!0,autoRefreshToken:!0}}),gs={en:{translation:{"common.dashboard":"Dashboard","common.employees":"Employees","common.plans":"Plans","common.grants":"Grants","common.portfolio":"Portfolio","common.settings":"Settings","common.users":"Users","common.capTable":"Cap Table","common.ltipPools":"LTIP Pools","common.vestingSchedules":"Vesting Schedules","common.vestingEvents":"Vesting Events","common.transfers":"Transfers","common.performanceMetrics":"Performance Metrics","common.documents":"Documents","common.logout":"Logout","common.login":"Login","common.save":"Save","common.cancel":"Cancel","common.delete":"Delete","common.edit":"Edit","common.create":"Create","common.search":"Search","common.loading":"Loading...","common.noData":"No data available","common.translations":"Translations","common.operatorConsole":"Operator Console","common.overview":"Overview","common.incentivePlans":"Incentive Plans","employee.dashboard":"Dashboard","employee.vestingTimeline":"Vesting Timeline","employee.portfolio":"Portfolio","employee.performance":"Performance","employee.taxCalculator":"Tax Calculator","employee.zakatCalculator":"Zakat Calculator","employee.documents":"Documents","employee.notifications":"Notifications","employee.employeePortal":"Employee Portal","employee.employee":"Employee","employee.signOut":"Sign Out","employee.adminView":"Admin View","employeeDashboard.title":"My Dashboard","employeeDashboard.description":"Overview of your equity grants and vesting status","employeeDashboard.status":"Status","employeeDashboard.number":"Number","employeeDashboard.valuation":"Valuation","employeeDashboard.vested":"Vested","employeeDashboard.unvested":"Unvested","employeeDashboard.lapsed":"Lapsed","employeeDashboard.active":"Active","employeeDashboard.exercised":"Exercised","employeeDashboard.buyBack":"Buy-Back","employeeDashboard.whenIsNextVesting":"When is my next vesting due?","employeeDashboard.options":"options","employeeDashboard.cumulativeVestedOptions":"Cumulative vested options","employeeDashboard.exercisePricePayable":"Exercise Price Payable","employeeDashboard.sharesRoadmap":"Shares Roadmap","employeeDashboard.noDataAvailable":"No data available","employeeDashboard.actionRequired":"Action Required","employeeDashboard.actionRequiredMessage":"You have grants that require your signature. Please review and accept the contracts to activate your equity grants.","employeeDashboard.yourGrants":"Your Grants","employeeDashboard.noActiveGrants":"No Active Grants","employeeDashboard.quickStats":"Quick Stats","employeeDashboard.vestedSharesLabel":"Vested Shares","employeeDashboard.unvestedSharesLabel":"Unvested Shares","employeeDashboard.reviewGrantAgreement":"Review Grant Agreement","employeeDashboard.vestingEventDetails":"Vesting Event Details","employeeDashboard.sharesToVest":"Shares to Vest","employeeDashboard.eventType":"Event Type","employeeDashboard.daysRemaining":"Days Remaining","employeeDashboard.performanceNotes":"Performance Notes","employeeDashboard.pendingSignature":"Pending Signature","employeeDashboard.draft":"Draft","employeeDashboard.noUpcomingVestingDates":"No upcoming vesting dates","employeeDashboard.failedToAcceptContract":"Failed to accept contract","employeeDashboard.loadingDashboard":"Loading your dashboard...","employeeDashboard.totalSharesGranted":"Total Shares Granted","employeeDashboard.vestedShares":"Vested Shares","employeeDashboard.unvestedShares":"Unvested Shares","employeeDashboard.grant":"Grant","employeeDashboard.grants":"Grants","employeeDashboard.ofTotal":"of total","employeeDashboard.remaining":"remaining","employeeDashboard.reviewContract":"Review Contract","employeeDashboard.yourVestingCalendar":"Your Vesting Calendar","employeeDashboard.trackUpcomingVesting":"Track upcoming vesting milestones and review past events.","employeeDashboard.noVestingEventsScheduled":"No vesting events scheduled yet. Your future vesting milestones will appear here.","employeeDashboard.noActiveGrantsMessage":"You don't have any active equity grants at this time.","employeeDashboard.byAcceptingAgreement":"By accepting this agreement, you acknowledge:","employeeDashboard.understandingGrantTerms":"Understanding of the grant terms and vesting schedule","employeeDashboard.acceptanceOfConditions":"Acceptance of company equity plan conditions","employeeDashboard.agreementToTaxImplications":"Agreement to tax implications and restrictions","employeeDashboard.acceptAgreement":"Accept Agreement","employeeDashboard.close":"Close","employeeDashboard.plan":"Plan","employeeDashboard.shares":"shares","employeeDashboard.vestedSharesSAR":"Vested Shares (SAR)","employeeDashboard.unvestedSharesSAR":"Unvested Shares (SAR)","employeeDashboard.vestedIncludes":"Vested includes: vested, transferred, exercised, due, and past-dated events","employeeDashboard.unvestedIncludes":"Unvested includes: pending and future-dated events","employeeDashboard.noRoadmapDataAvailable":"No roadmap data available","employeeDashboard.total":"Total","employeeVesting.title":"Vesting Timeline","employeeVesting.description":"Track your share vesting progression across all grants","employeeVesting.loading":"Loading...","employeeVesting.noVestingData":"No vesting data available","employeeVesting.vestingSchedule":"Vesting Schedule","employeeVesting.cliffPeriod":"Cliff Period","employeeVesting.frequency":"Frequency","employeeVesting.type":"Type","employeeVesting.duration":"Duration","employeeVesting.months":"months","employeeVesting.years":"years","employeeVesting.vestingProgress":"Vesting Progress","employeeVesting.vested":"vested","employeeVesting.vestingEvent":"Vesting Event","employeeVesting.shares":"shares","employeeVesting.active":"Active","employeeVesting.pendingSignature":"Pending Signature","employeeVesting.contractSigned":"Contract Signed","employeeVesting.contractExecuted":"Contract Executed","employeeVesting.draftContract":"Draft Contract","employeeVesting.contract":"Contract","employeeVesting.plan":"Plan","employeeVesting.noIndividualRecords":"No individual vesting records found. This grant may not have been processed with a vesting schedule template.","employeePortfolio.title":"My Portfolio","employeePortfolio.description":"View your equity portfolio and transaction history","employeePortfolio.loading":"Loading your portfolio...","employeePortfolio.totalShares":"Total Shares","employeePortfolio.availableShares":"Available Shares","employeePortfolio.lockedShares":"Locked Shares","employeePortfolio.portfolioValue":"Portfolio Value","employeePortfolio.perShare":"per share","employeePortfolio.portfolioDetails":"Portfolio Details","employeePortfolio.portfolioNumber":"Portfolio Number","employeePortfolio.company":"Company","employeePortfolio.createdDate":"Created Date","employeePortfolio.lastUpdated":"Last Updated","employeePortfolio.noPortfolioFound":"No Portfolio Found","employeePortfolio.noPortfolioMessage":"Your portfolio will be created automatically when shares are transferred to you.","employeePortfolio.portfolioValuation":"Portfolio Valuation","employeePortfolio.grantsBreakdown":"Grants Breakdown","employeePortfolio.grantNumber":"Grant Number","employeePortfolio.plan":"Plan","employeePortfolio.vested":"Vested","employeePortfolio.unvested":"Unvested","employeePortfolio.grantDate":"Grant Date","employeePortfolio.transactionHistory":"Transaction History","employeePortfolio.transferNumber":"Transfer Number","employeePortfolio.grant":"Grant","employeePortfolio.shares":"Shares","employeePortfolio.date":"Date","employeePortfolio.status":"Status","employeePortfolio.noTransactions":"No transactions yet","employeePortfolio.noTransactionsMessage":"Your transfer history will appear here once shares are transferred to your portfolio.","employeePortfolio.completed":"completed","employeePortfolio.pending":"pending","employeePerformance.title":"Performance History","employeePerformance.description":"Track your portfolio value over time","employeePerformance.loading":"Loading...","employeeTaxCalculator.title":"Tax Calculator","employeeTaxCalculator.description":"Estimate your tax liability on vested shares","employeeTaxCalculator.loading":"Loading...","employeeTaxCalculator.noGrantData":"No grant data available","employeeZakatCalculator.title":"Zakat Calculator","employeeZakatCalculator.description":"Calculate your Islamic wealth tax","employeeZakatCalculator.loading":"Loading...","employeeDocuments.title":"Documents","employeeDocuments.description":"Access and download your equity-related documents","employeeNotifications.title":"Notification Preferences","employeeNotifications.description":"Manage how you receive updates and alerts","language.switch":"Switch language","language.arabic":"Arabic","language.english":"English"}},ar:{translation:{"common.dashboard":"لوحة التحكم","common.employees":"الموظفون","common.plans":"الخطط","common.grants":"المنح","common.portfolio":"المحفظة","common.settings":"الإعدادات","common.users":"المستخدمون","common.capTable":"جدول رأس المال","common.ltipPools":"مجمعات LTIP","common.vestingSchedules":"جداول الاستحقاق","common.vestingEvents":"أحداث الاستحقاق","common.transfers":"التحويلات","common.performanceMetrics":"مقاييس الأداء","common.documents":"المستندات","common.logout":"تسجيل الخروج","common.login":"تسجيل الدخول","common.save":"حفظ","common.cancel":"إلغاء","common.delete":"حذف","common.edit":"تعديل","common.create":"إنشاء","common.search":"بحث","common.loading":"جاري التحميل...","common.noData":"لا توجد بيانات متاحة","common.translations":"الترجمات","common.operatorConsole":"لوحة المشغل","common.overview":"نظرة عامة","common.incentivePlans":"خطط الحوافز","employee.dashboard":"لوحة التحكم","employee.vestingTimeline":"الجدول الزمني للاستحقاق","employee.portfolio":"المحفظة","employee.performance":"الأداء","employee.taxCalculator":"حاسبة الضرائب","employee.zakatCalculator":"حاسبة الزكاة","employee.documents":"المستندات","employee.notifications":"الإشعارات","employee.employeePortal":"بوابة الموظف","employee.employee":"موظف","employee.signOut":"تسجيل الخروج","employee.adminView":"عرض الإدارة","employeeDashboard.title":"لوحة التحكم الخاصة بي","employeeDashboard.description":"نظرة عامة على منح حقوق الملكية وحالة الاستحقاق","employeeDashboard.status":"الحالة","employeeDashboard.number":"العدد","employeeDashboard.valuation":"التقييم","employeeDashboard.vested":"المستحقة","employeeDashboard.unvested":"غير المستحقة","employeeDashboard.lapsed":"الملغاة","employeeDashboard.active":"نشط","employeeDashboard.exercised":"الممارسة","employeeDashboard.buyBack":"إعادة الشراء","employeeDashboard.whenIsNextVesting":"متى يكون موعد الاستحقاق القادم؟","employeeDashboard.options":"خيارات","employeeDashboard.cumulativeVestedOptions":"الخيارات المستحقة التراكمية","employeeDashboard.exercisePricePayable":"سعر الممارسة المستحق","employeeDashboard.sharesRoadmap":"خارطة طريق الأسهم","employeeDashboard.noDataAvailable":"لا توجد بيانات متاحة","employeeDashboard.actionRequired":"إجراء مطلوب","employeeDashboard.actionRequiredMessage":"لديك منح تتطلب توقيعك. يرجى مراجعة وقبول العقود لتفعيل منح حقوق الملكية الخاصة بك.","employeeDashboard.yourGrants":"منحك","employeeDashboard.noActiveGrants":"لا توجد منح نشطة","employeeDashboard.quickStats":"إحصائيات سريعة","employeeDashboard.vestedSharesLabel":"الأسهم المستحقة","employeeDashboard.unvestedSharesLabel":"الأسهم غير المستحقة","employeeDashboard.reviewGrantAgreement":"مراجعة اتفاقية المنحة","employeeDashboard.vestingEventDetails":"تفاصيل حدث الاستحقاق","employeeDashboard.sharesToVest":"الأسهم المستحقة","employeeDashboard.eventType":"نوع الحدث","employeeDashboard.daysRemaining":"الأيام المتبقية","employeeDashboard.performanceNotes":"ملاحظات الأداء","employeeDashboard.pendingSignature":"في انتظار التوقيع","employeeDashboard.draft":"مسودة","employeeDashboard.noUpcomingVestingDates":"لا توجد تواريخ استحقاق قادمة","employeeDashboard.failedToAcceptContract":"فشل في قبول العقد","employeeDashboard.loadingDashboard":"جاري تحميل لوحة التحكم...","employeeDashboard.totalSharesGranted":"إجمالي الأسهم الممنوحة","employeeDashboard.vestedShares":"الأسهم المستحقة","employeeDashboard.unvestedShares":"الأسهم غير المستحقة","employeeDashboard.grant":"منحة","employeeDashboard.grants":"منح","employeeDashboard.ofTotal":"من الإجمالي","employeeDashboard.remaining":"متبقي","employeeDashboard.reviewContract":"مراجعة العقد","employeeDashboard.yourVestingCalendar":"تقويم الاستحقاق الخاص بك","employeeDashboard.trackUpcomingVesting":"تتبع معالم الاستحقاق القادمة ومراجعة الأحداث السابقة.","employeeDashboard.noVestingEventsScheduled":"لم يتم جدولة أحداث استحقاق بعد. ستظهر معالم الاستحقاق المستقبلية هنا.","employeeDashboard.noActiveGrantsMessage":"ليس لديك أي منح حقوق ملكية نشطة في هذا الوقت.","employeeDashboard.byAcceptingAgreement":"بقبول هذه الاتفاقية، فإنك تقر بـ:","employeeDashboard.understandingGrantTerms":"فهم شروط المنحة وجدول الاستحقاق","employeeDashboard.acceptanceOfConditions":"قبول شروط خطة حقوق الملكية للشركة","employeeDashboard.agreementToTaxImplications":"الموافقة على الآثار الضريبية والقيود","employeeDashboard.acceptAgreement":"قبول الاتفاقية","employeeDashboard.close":"إغلاق","employeeDashboard.plan":"الخطة","employeeDashboard.shares":"أسهم","employeeDashboard.vestedSharesSAR":"الأسهم المستحقة (ريال سعودي)","employeeDashboard.unvestedSharesSAR":"الأسهم غير المستحقة (ريال سعودي)","employeeDashboard.vestedIncludes":"المستحقة تشمل: المستحقة، المنقولة، الممارسة، المستحقة، والأحداث ذات التواريخ السابقة","employeeDashboard.unvestedIncludes":"غير المستحقة تشمل: الأحداث المعلقة وذات التواريخ المستقبلية","employeeDashboard.noRoadmapDataAvailable":"لا توجد بيانات خارطة طريق متاحة","employeeDashboard.total":"الإجمالي","employeeVesting.title":"الجدول الزمني للاستحقاق","employeeVesting.description":"تتبع تقدم استحقاق أسهمك عبر جميع المنح","employeeVesting.loading":"جاري التحميل...","employeeVesting.noVestingData":"لا توجد بيانات استحقاق متاحة","employeeVesting.vestingSchedule":"جدول الاستحقاق","employeeVesting.cliffPeriod":"فترة الهاوية","employeeVesting.frequency":"التكرار","employeeVesting.type":"النوع","employeeVesting.duration":"المدة","employeeVesting.months":"أشهر","employeeVesting.years":"سنوات","employeeVesting.vestingProgress":"تقدم الاستحقاق","employeeVesting.vested":"مستحقة","employeeVesting.vestingEvent":"حدث الاستحقاق","employeeVesting.shares":"أسهم","employeeVesting.active":"نشط","employeeVesting.pendingSignature":"في انتظار التوقيع","employeeVesting.contractSigned":"تم توقيع العقد","employeeVesting.contractExecuted":"تم تنفيذ العقد","employeeVesting.draftContract":"مسودة العقد","employeeVesting.contract":"العقد","employeeVesting.plan":"الخطة","employeeVesting.noIndividualRecords":"لم يتم العثور على سجلات استحقاق فردية. قد لا تكون هذه المنحة قد تمت معالجتها باستخدام قالب جدول الاستحقاق.","employeePortfolio.title":"محفظتي","employeePortfolio.description":"عرض محفظة حقوق الملكية الخاصة بك وسجل المعاملات","employeePortfolio.loading":"جاري تحميل محفظتك...","employeePortfolio.totalShares":"إجمالي الأسهم","employeePortfolio.availableShares":"الأسهم المتاحة","employeePortfolio.lockedShares":"الأسهم المقفلة","employeePortfolio.portfolioValue":"قيمة المحفظة","employeePortfolio.perShare":"لكل سهم","employeePortfolio.portfolioDetails":"تفاصيل المحفظة","employeePortfolio.portfolioNumber":"رقم المحفظة","employeePortfolio.company":"الشركة","employeePortfolio.createdDate":"تاريخ الإنشاء","employeePortfolio.lastUpdated":"آخر تحديث","employeePortfolio.noPortfolioFound":"لم يتم العثور على محفظة","employeePortfolio.noPortfolioMessage":"سيتم إنشاء محفظتك تلقائياً عند نقل الأسهم إليك.","employeePortfolio.portfolioValuation":"تقييم المحفظة","employeePortfolio.grantsBreakdown":"تفصيل المنح","employeePortfolio.grantNumber":"رقم المنحة","employeePortfolio.plan":"الخطة","employeePortfolio.vested":"مستحقة","employeePortfolio.unvested":"غير مستحقة","employeePortfolio.grantDate":"تاريخ المنحة","employeePortfolio.transactionHistory":"سجل المعاملات","employeePortfolio.transferNumber":"رقم التحويل","employeePortfolio.grant":"المنحة","employeePortfolio.shares":"أسهم","employeePortfolio.date":"التاريخ","employeePortfolio.status":"الحالة","employeePortfolio.noTransactions":"لا توجد معاملات بعد","employeePortfolio.noTransactionsMessage":"سيظهر سجل التحويلات هنا بمجرد نقل الأسهم إلى محفظتك.","employeePortfolio.completed":"مكتمل","employeePortfolio.pending":"قيد الانتظار","employeePerformance.title":"سجل الأداء","employeePerformance.description":"تتبع قيمة محفظتك بمرور الوقت","employeePerformance.loading":"جاري التحميل...","employeeTaxCalculator.title":"حاسبة الضرائب","employeeTaxCalculator.description":"تقدير التزامك الضريبي على الأسهم المستحقة","employeeTaxCalculator.loading":"جاري التحميل...","employeeTaxCalculator.noGrantData":"لا توجد بيانات منحة متاحة","employeeZakatCalculator.title":"حاسبة الزكاة","employeeZakatCalculator.description":"احسب ضريبة الثروة الإسلامية الخاصة بك","employeeZakatCalculator.loading":"جاري التحميل...","employeeDocuments.title":"المستندات","employeeDocuments.description":"الوصول إلى مستنداتك المتعلقة بحقوق الملكية وتنزيلها","employeeNotifications.title":"تفضيلات الإشعارات","employeeNotifications.description":"إدارة كيفية استلامك للتحديثات والتنبيهات","language.switch":"تبديل اللغة","language.arabic":"العربية","language.english":"الإنجليزية"}}};async function He(s){try{const{data:e,error:t}=await A.from("translations").select("translation_key, translation_value").eq("language_code",s).eq("namespace","translation");if(t)return console.error("Error loading translations:",t),{};const n={};return e==null||e.forEach(a=>{n[a.translation_key]=a.translation_value}),n}catch(e){return console.error("Error loading translations from DB:",e),{}}}V.use(Et).use(wn).init({resources:gs,fallbackLng:"en",supportedLngs:["en","ar"],defaultNS:"translation",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}});(async()=>{try{const s=V.language||"en",e=await He(s);Object.keys(e).length>0?(V.addResourceBundle(s,"translation",e,!0,!0),V.reloadResources(s),console.log(`✓ Loaded ${Object.keys(e).length} translations for ${s}`)):console.warn(`⚠ No translations found in database for ${s}`)}catch(s){console.error("Error loading initial translations:",s)}})();V.on("languageChanged",async s=>{try{const e=await He(s);Object.keys(e).length>0?(V.addResourceBundle(s,"translation",e,!0,!0),V.reloadResources(s),console.log(`✓ Loaded ${Object.keys(e).length} translations for ${s}`)):console.warn(`⚠ No translations found in database for ${s}`),typeof document<"u"&&(document.documentElement.dir=s==="ar"?"rtl":"ltr",document.documentElement.lang=s)}catch(e){console.error("Error loading translations on language change:",e)}});typeof window<"u"&&(document.documentElement.dir=V.language==="ar"?"rtl":"ltr",document.documentElement.lang=V.language);async function po(s){try{const e=s||V.language,t=await He(e);return Object.keys(t).length>0?(V.addResourceBundle(e,"translation",t,!0,!0),V.reloadResources(e),console.log(`✓ Reloaded ${Object.keys(t).length} translations for ${e}`),!0):(console.warn(`⚠ No translations found in database for ${e}`),!1)}catch(e){return console.error("Error reloading translations:",e),!1}}const Ot=m.createContext(void 0);function hs({children:s}){const[e,t]=m.useState(null),[n,a]=m.useState(null),[o,i]=m.useState(null),[l,c]=m.useState(!0),[u,p]=m.useState(null),[f,d]=m.useState(!1),[g,x]=m.useState({id:null,name:null}),j=m.useRef(!1),y="saas_active_company",D=async(h,L=!1)=>{if(!h){p(null),d(!0);return}const{data:I,error:P}=await A.from("company_onboarding_progress").select("*").eq("company_id",h).maybeSingle();if(P){!L&&P.code!=="PGRST116"&&console.error("Error loading onboarding progress:",P),p(null),d(!0);return}p(I),d(!0)},S=async(h,L=0,I=3)=>{try{const{data:{session:P}}=await A.auth.getSession();if(!P){if(console.warn("⚠️ No session found when loading user role, waiting..."),L<I)return await new Promise(M=>setTimeout(M,1e3*(L+1))),S(h,L+1,I);throw new Error("No session available")}const O=new Promise((M,B)=>setTimeout(()=>B(new Error("Timeout")),1e4)),Y=(async()=>{console.log(`🔍 loadUserRole (attempt ${L+1}/${I+1}): Starting to fetch user role for userId:`,h),console.log("🔍 Current session user ID:",P.user.id);const{data:M,error:B}=await A.from("company_users").select("user_id, company_id, role, is_active, permissions").eq("user_id",h).limit(1);if(B&&(console.warn("❌ Error checking for any company user (first check):",B),B.code==="42501"&&L<I))return console.log(`⏳ Retrying in ${(L+1)*1e3}ms...`),await new Promise(R=>setTimeout(R,1e3*(L+1))),S(h,L+1,I);if(M&&M.length>0){const R=M[0];console.log("✅ User exists in company_users (role="+R.role+", active="+R.is_active+"), treating as company admin, not platform super admin");const Q={user_id:R.user_id,email:(e==null?void 0:e.email)||"",company_id:R.company_id,role:R.role,is_active:R.is_active,permissions:R.permissions??null,user_type:"company_admin"};return console.log("✅ loadUserRole: Created userRole object (company admin):",{role:Q.role,user_type:Q.user_type,company_id:Q.company_id,fullObject:Q}),Q}const{data:oe,error:ne}=await A.from("employees").select("id, company_id").eq("user_id",h).maybeSingle();if(ne&&console.warn("Error fetching employee data:",ne),oe)return console.log("✅ User exists in employees table, treating as employee"),{user_id:h,email:(e==null?void 0:e.email)||"",company_id:oe.company_id,role:"employee",is_active:!0,permissions:null,user_type:"employee"};if(L<I)return console.log(`⏳ No company_users or employees record found yet, retrying in ${(L+1)*1e3}ms...`),await new Promise(R=>setTimeout(R,1e3*(L+1))),S(h,L+1,I);const{data:G,error:K}=await A.from("company_users").select("user_id, company_id, role, is_active, permissions, created_at").eq("user_id",h).eq("is_active",!0).neq("role","super_admin").order("created_at",{ascending:!1}).limit(1);K?console.warn("❌ Error fetching company user:",K):console.log("✅ Fetched company user data:",G==null?void 0:G[0]);const J=(G==null?void 0:G[0])??null;if(J){const R={user_id:J.user_id,email:(e==null?void 0:e.email)||"",company_id:J.company_id,role:J.role,is_active:J.is_active,permissions:J.permissions??null,user_type:"company_admin"};return console.log("✅ loadUserRole: Created userRole object (company admin):",{role:R.role,user_type:R.user_type,company_id:R.company_id,fullObject:R}),R}const{data:ue}=await A.from("company_users").select("company_id, role").eq("user_id",h).limit(1);if(ue&&ue.length>0){console.log("⚠️ Final check: User found in company_users - treating as company admin (not platform super admin)");const R=ue[0];return{user_id:h,email:(e==null?void 0:e.email)||"",company_id:R.company_id,role:R.role||"company_admin",is_active:!0,permissions:null,user_type:"company_admin"}}const{data:de,error:ae}=await A.from("company_super_admin_memberships").select("user_id").eq("user_id",h).limit(1);if(ae&&console.warn("❌ Error checking super admin membership:",ae),de&&de.length>0){const{data:R}=await A.from("company_users").select("company_id").eq("user_id",h).limit(1),{data:Q}=await A.from("employees").select("company_id").eq("user_id",h).limit(1);if(R&&R.length>0){console.log("⚠️ Triple-check: User is in company_super_admin_memberships but also in company_users - treating as company admin");const _=R[0];return{user_id:h,email:(e==null?void 0:e.email)||"",company_id:_.company_id,role:"company_admin",is_active:!0,permissions:null,user_type:"company_admin"}}if(Q&&Q.length>0)return console.log("⚠️ Triple-check: User is in company_super_admin_memberships but also in employees - treating as employee"),{user_id:h,email:(e==null?void 0:e.email)||"",company_id:Q[0].company_id,role:"employee",is_active:!0,permissions:null,user_type:"employee"};const w={user_id:h,email:(e==null?void 0:e.email)||"",company_id:null,role:"super_admin",is_active:!0,permissions:null,user_type:"super_admin"};return console.log("✅ loadUserRole: User is platform super admin (no company association):",w),w}return null})(),$=await Promise.race([Y,O]);console.log("✅ loadUserRole: Final role result:",$),i($),$!=null&&$.company_id?(x({id:$.company_id,name:null}),d(!1),await D($.company_id,!0)):(p(null),d(!0))}catch(P){console.error("Error loading user role:",P),P instanceof Error&&P.message==="Timeout"?(console.warn("User role loading timed out, keeping existing state"),d(!0)):(i(null),p(null),d(!0))}};m.useEffect(()=>{let h=!0;(async()=>{try{const{data:{session:P}}=await A.auth.getSession();if(!h)return;a(P),t((P==null?void 0:P.user)??null),P!=null&&P.user||(p(null),d(!0)),P!=null&&P.user&&await S(P.user.id)}catch(P){console.error("Error initializing auth:",P)}finally{h&&c(!1)}})();const{data:{subscription:I}}=A.auth.onAuthStateChange(async(P,O)=>{if(h){if(j.current&&P==="SIGNED_IN"){console.log("⏸️ Sign-up in progress, skipping onAuthStateChange handler");return}a(O),t((O==null?void 0:O.user)??null),O!=null&&O.user?await S(O.user.id):(i(null),p(null),d(!0)),c(!1)}});return()=>{h=!1,I.unsubscribe()}},[]);const z=async(h,L)=>{const{error:I}=await A.auth.signInWithPassword({email:h,password:L});if(I)throw I},v=async h=>{const{email:L,password:I,companyNameEn:P,companyNameAr:O,phone:Y}=h;j.current=!0;try{const{data:$,error:M}=await A.auth.signUp({email:L,password:I});if(M)throw M;let B=$.user;if(!B){const{data:K,error:J}=await A.auth.signInWithPassword({email:L,password:I});if(J)throw new Error("Account created. Please verify your email before continuing.");B=K.user}if(!B)throw new Error("Unable to initialize user after sign-up.");const{data:{session:oe}}=await A.auth.getSession();if(oe)console.log("✅ User already has a valid session");else{console.log("No session found after sign-up, signing in...");const{data:K,error:J}=await A.auth.signInWithPassword({email:L,password:I});if(J)throw new Error("Account created but sign-in failed. Please try signing in manually.");if(!K.session)throw new Error("Sign-in succeeded but no session was created.");console.log("✅ User signed in successfully with session")}console.log("Creating company for user:",B.id);const{error:ne}=await A.rpc("onboard_self_service_company",{p_company_name_en:P,p_company_name_ar:O??null,p_phone:Y??null,p_user_id:B.id});if(ne)throw console.error("Error creating company:",ne),ne;console.log("✅ Company created successfully"),console.log("Waiting for database transaction to commit..."),await new Promise(K=>setTimeout(K,1500));const{data:{session:G}}=await A.auth.getSession();if(!G)throw new Error("Session lost after company creation. Please sign in again.");console.log("✅ Session verified"),console.log("Loading user role for:",B.id),await S(B.id,0,5),await new Promise(K=>setTimeout(K,500)),console.log("✅ Sign-up process completed")}finally{j.current=!1}},k=async()=>{const{error:h}=await A.auth.signOut();if(h)throw h;i(null),p(null),d(!1),x({id:null,name:null}),typeof window<"u"&&localStorage.removeItem(y)},T=()=>(o==null?void 0:o.user_type)==="super_admin",E=h=>o?o.role==="super_admin"?g.id?h?g.id===h:!0:!1:o.user_type==="company_admin"?h?o.company_id===h:!0:!1:!1,W=()=>(o==null?void 0:o.user_type)==="employee",Z=h=>(o==null?void 0:o.user_type)==="super_admin"?!0:!!(o!=null&&o.permissions&&o.permissions[h]),te=()=>(o==null?void 0:o.role)==="super_admin"?g.id:o!=null&&o.company_id?o.company_id:null,X=(h,L)=>{x({id:h,name:L??null}),(o==null?void 0:o.role)==="super_admin"&&typeof window<"u"&&(h?localStorage.setItem(y,JSON.stringify({id:h,name:L??null})):localStorage.removeItem(y))},fe=()=>{X(null)};m.useEffect(()=>{if((o==null?void 0:o.role)==="super_admin"){if(typeof window<"u"){const h=localStorage.getItem(y);if(h)try{const L=JSON.parse(h);x(L)}catch(L){console.warn("Failed to parse stored super admin company selection",L),localStorage.removeItem(y)}else x({id:null,name:null})}}else(o==null?void 0:o.user_type)==="company_admin"?x({id:o.company_id,name:null}):x({id:null,name:null})},[o==null?void 0:o.role,o==null?void 0:o.company_id]);const ce={user:e,session:n,userRole:o,loading:l,activeCompanyId:g.id,activeCompanyName:g.name,setActiveCompany:X,clearActiveCompany:fe,signIn:z,signUp:v,signOut:k,isSuperAdmin:T,isCompanyAdmin:E,isEmployee:W,hasPermission:Z,getCurrentCompanyId:te,onboardingProgress:u,refreshOnboardingProgress:async()=>{await D((o==null?void 0:o.company_id)??null)},isOnboardingComplete:()=>u?u.has_pool&&u.has_vesting_schedule&&u.has_plan&&u.has_employee&&u.has_grant:!0,onboardingLoaded:f};return r.jsx(Ot.Provider,{value:ce,children:s})}function le(){const s=m.useContext(Ot);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function kt(){const{i18n:s,t:e}=Te(),[t,n]=m.useState(!1),a=s.language,o=a==="ar";m.useEffect(()=>{typeof document<"u"&&(document.documentElement.dir=o?"rtl":"ltr",document.documentElement.lang=a)},[a,o]);const i=()=>{const l=a==="en"?"ar":"en";s.changeLanguage(l),n(!1)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>n(!t),className:`flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 rounded-lg hover:bg-gray-100 active:bg-gray-100 transition-colors touch-manipulation ${o?"space-x-reverse":""}`,"aria-label":e("language.switch"),children:[r.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 flex-shrink-0"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 whitespace-nowrap",children:a==="en"?"EN":"AR"})]}),t&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-[100]",onClick:()=>n(!1)}),r.jsx("div",{className:`absolute ${o?"left-0":"right-0"} mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-[101]`,children:r.jsxs("button",{onClick:i,className:`w-full px-4 py-2 hover:bg-gray-50 active:bg-gray-100 transition-colors flex items-center justify-between touch-manipulation ${o?"text-right":"text-left"}`,children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:e(a==="en"?"language.arabic":"language.english")}),a==="en"?r.jsx("span",{className:"text-lg",children:"🇸🇦"}):r.jsx("span",{className:"text-lg",children:"🇬🇧"})]})})]})]})}function Tt(s){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Rt(s,e){const t=Tt(s);return t?`rgba(${t.r}, ${t.g}, ${t.b}, ${e})`:s}function Ie(s,e){return Rt(s,{50:.05,100:.1,200:.2,300:.3,400:.4,500:.5,600:1,700:.9,800:.8,900:.7}[e]||1)}const Ce="#2563EB";function ys(){const{getCurrentCompanyId:s}=le(),[e,t]=m.useState(Ce),[n,a]=m.useState(!0);return m.useEffect(()=>{(async()=>{const p=s();if(!p){t(Ce),a(!1);return}try{const{data:f,error:d}=await A.from("companies").select("brand_color").eq("id",p).maybeSingle();if(d)throw d;const g=f==null?void 0:f.brand_color;g&&/^#[0-9A-F]{6}$/i.test(g)?t(g):t(Ce)}catch(f){console.error("Error loading company color:",f),t(Ce)}finally{a(!1)}})();const u=A.channel("company-color-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"companies",filter:`id=eq.${s()}`},p=>{var d;const f=(d=p.new)==null?void 0:d.brand_color;f&&/^#[0-9A-F]{6}$/i.test(f)&&t(f)}).subscribe();return()=>{A.removeChannel(u)}},[s]),{brandColor:e,loading:n,getBgColor:(c="600")=>Ie(e,c),getTextColor:(c="600")=>Ie(e,c),getBorderColor:(c="600")=>Ie(e,c),hexToRgb:()=>Tt(e),getColorWithOpacity:c=>Rt(e,c)}}function At({children:s}){var R,Q;const{t:e,i18n:t}=Te(),{user:n,signOut:a,userRole:o,activeCompanyId:i,activeCompanyName:l,setActiveCompany:c,clearActiveCompany:u,isSuperAdmin:p,getCurrentCompanyId:f,onboardingProgress:d,isOnboardingComplete:g,onboardingLoaded:x,hasPermission:j}=le(),y=ft(),D=qe(),S=t.language==="ar",[z,v]=m.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1),[k,T]=m.useState(0),[E,W]=m.useState(0),[Z,te]=m.useState(null),[X,fe]=m.useState(!0),[ce,h]=m.useState([]),[L,I]=m.useState(!1),{brandColor:P,getBgColor:O,getColorWithOpacity:Y}=ys(),$=m.useMemo(()=>o?o.company_id!==null&&o.company_id!==void 0?(console.log("⚠️ User has company_id, treating as company-level user, not platform super admin"),!1):o.user_type==="super_admin"&&o.company_id===null:!1,[o==null?void 0:o.user_type,o==null?void 0:o.company_id,i]),M=m.useMemo(()=>{if(!d)return{completed:0,total:5};const w=[d.has_pool,d.has_vesting_schedule,d.has_plan,d.has_employee,d.has_grant];return{completed:w.filter(Boolean).length,total:w.length}},[d]),B=x&&!g(),oe=()=>typeof window<"u"&&window.innerWidth<1024;m.useEffect(()=>{const _=(()=>{const F=window.matchMedia("(min-width: 1024px)"),H=F.matches;return v(!!H),F})(),U=F=>{v(F.matches)};return _.addEventListener?(_.addEventListener("change",U),()=>_.removeEventListener("change",U)):(_.addListener(U),()=>_.removeListener(U))},[]),m.useEffect(()=>{oe()&&v(!1)},[D.pathname]),m.useEffect(()=>{(async()=>{try{if(!n){te(null),fe(!1);return}const{data:_,error:U}=await A.from("company_users").select("permissions, company_id").eq("user_id",n.id).maybeSingle();if(U)throw U;const F=(_==null?void 0:_.permissions)??{};if(!_){te(null);return}!$&&_.company_id&&!i&&c(_.company_id,null);const H=Object.keys(F).reduce((ge,Pe)=>(Pe in ge&&(ge[Pe]=!!F[Pe]),ge),{dashboard:!0,users:!1,employees:!1,ltip_pools:!1,plans:!1,vesting_schedules:!1,vesting_events:!1,transfers:!1,performance_metrics:!1,grants:!1,documents:!1,cap_table:!1,portfolio:!1,settings:!1});H.dashboard=!0,te(H)}catch(_){console.error("Error loading permissions:",_),te(null)}finally{fe(!1)}})()},[n,o==null?void 0:o.user_type,i,$,c]);const ne=async()=>{await a(),y("/login")},G=async()=>{try{if(!n)return;const w=f();if(!w){T(0);return}const{data:_,error:U}=await A.from("vesting_events").select("id, vesting_date, status").eq("company_id",w).eq("status","due");if(U)throw U;const F=new Date,H=(_||[]).filter(ge=>new Date(ge.vesting_date)<=F);T(H.length)}catch(w){console.error("Error loading due events count:",w),T(0)}},K=async()=>{try{if(!n||!o){W(0);return}const w=f();if(!w){W(0);return}if(!(o.user_type==="super_admin"||o.role==="super_admin"||o.role==="finance_admin"||(o.role==="hr_admin"||o.role==="legal_admin"||o.role==="company_admin")&&j("contract_approval"))){W(0);return}const{data:U,error:F}=await A.from("generated_documents").select("id, status").eq("company_id",w).eq("status","draft");if(F)throw F;W((U||[]).length)}catch(w){console.error("Error loading draft contracts count:",w),W(0)}};m.useEffect(()=>{G(),K();const w=setInterval(()=>{G(),K()},5*60*1e3),_=()=>{G(),K()};return window.addEventListener("refreshVestingEventsCount",_),window.addEventListener("refreshDraftContractsCount",_),()=>{clearInterval(w),window.removeEventListener("refreshVestingEventsCount",_),window.removeEventListener("refreshDraftContractsCount",_)}},[n,o,f,j]),m.useEffect(()=>{G(),K()},[D.pathname,i]),m.useEffect(()=>{if(!$){h([]);return}(async()=>{try{I(!0);const{data:_,error:U}=await A.from("companies").select("id, company_name_en, company_name_ar").order("company_name_en",{ascending:!0});if(U)throw U;const F=(_||[]).map(H=>({id:H.id,name:H.company_name_en||H.company_name_ar||"Untitled Company"}));h(F)}catch(_){console.error("Failed to load company list for super admin:",_),h([])}finally{I(!1)}})()},[$]);const J=m.useMemo(()=>[{name:e("common.overview"),href:"/dashboard",icon:Bt,permission:"dashboard"},{name:e("common.users"),href:"/dashboard/users",icon:Je,permission:"users"},{name:e("common.employees"),href:"/dashboard/employees",icon:Je,permission:"employees"},{name:e("common.ltipPools"),href:"/dashboard/ltip-pools",icon:ve,permission:"ltip_pools"},{name:e("common.incentivePlans"),href:"/dashboard/plans",icon:$e,permission:"plans"},{name:e("common.vestingSchedules"),href:"/dashboard/vesting-schedules",icon:Kt,permission:"vesting_schedules"},{name:e("common.vestingEvents"),href:"/dashboard/vesting-events",icon:qt,permission:"vesting_events"},{name:e("common.transfers"),href:"/dashboard/transfers",icon:ve,permission:"transfers"},{name:e("common.performanceMetrics"),href:"/dashboard/performance-metrics",icon:Ht,permission:"performance_metrics"},{name:e("common.grants"),href:"/dashboard/grants",icon:Ue,permission:"grants"},{name:e("common.documents"),href:"/dashboard/documents",icon:$e,permission:"documents"},{name:e("common.capTable"),href:"/dashboard/cap-table",icon:Gt,permission:"cap_table"},{name:e("common.portfolio"),href:"/dashboard/portfolio",icon:Fe,permission:"portfolio"},{name:e("common.customerJourney"),href:"/dashboard/customer-journey",icon:Jt,permission:null},{name:e("common.settings"),href:"/dashboard/settings",icon:Wt,permission:"settings"}],[e]),ue=m.useMemo(()=>$?[{name:e("common.operatorConsole"),href:"/operator/companies",icon:Yt,permission:null},{name:e("common.subscriptions"),href:"/operator/subscriptions",icon:Qt,permission:null},{name:e("common.buybackRequests"),href:"/operator/buyback-requests",icon:ve,permission:null},{name:e("common.allPortfolios"),href:"/operator/portfolios",icon:gt,permission:null},{name:e("common.translations"),href:"/dashboard/translations",icon:Zt,permission:null}]:[],[$,e]),de=m.useMemo(()=>[...ue,...J],[ue,J]),ae=m.useMemo(()=>Z?de.filter(w=>w.permission?Z[w.permission]:!0):de,[de,Z]);return m.useEffect(()=>{var F;if(!Z)return;const _=Object.entries({"/dashboard/users":"users","/dashboard/employees":"employees","/dashboard/ltip-pools":"ltip_pools","/dashboard/plans":"plans","/dashboard/vesting-schedules":"vesting_schedules","/dashboard/vesting-events":"vesting_events","/dashboard/transfers":"transfers","/dashboard/performance-metrics":"performance_metrics","/dashboard/grants":"grants","/dashboard/documents":"documents","/dashboard/cap-table":"cap_table","/dashboard/portfolio":"portfolio","/dashboard/settings":"settings"}).find(([H])=>D.pathname.startsWith(H));if(!_)return;const[,U]=_;if(!Z[U]){const H=((F=ae[0])==null?void 0:F.href)??"/dashboard";y(H,{replace:!0})}},[Z,D.pathname,y,ae]),r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx("div",{className:`fixed inset-y-0 ${S?"right-0 border-l":"left-0 border-r"} z-50 w-64 bg-white border-gray-200 transform transition-transform duration-200 ease-in-out ${z?"translate-x-0":S?"translate-x-full":"-translate-x-full"} lg:translate-x-0`,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:P},children:r.jsx(Xt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"LTIP-CONNECT"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Admin Portal"})]})]}),r.jsx("button",{onClick:()=>v(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:X?r.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((w,_)=>r.jsx("div",{className:"h-10 rounded-lg bg-gray-100 animate-pulse"},_))}):ae.length===0?r.jsx("div",{className:"p-4 text-sm text-gray-500 bg-gray-50 border border-dashed border-gray-200 rounded-lg",children:"No modules available for your role. Reach out to an administrator for access."}):ae.map(w=>{const _=D.pathname===w.href,U=w.href==="/dashboard/vesting-events",F=w.href==="/dashboard/documents";return r.jsxs(we,{to:w.href,onClick:()=>{oe()&&v(!1)},className:`flex items-center justify-between px-4 py-3 rounded-lg transition ${_?"font-medium":"text-gray-700 hover:bg-gray-50"}`,style:_?{backgroundColor:O("50"),color:P}:{},children:[r.jsxs("div",{className:`flex items-center space-x-3 ${S?"space-x-reverse":""}`,children:[r.jsx(w.icon,{className:`w-5 h-5 ${_?"":"text-gray-400"}`,style:_?{color:P}:{}}),r.jsx("span",{children:w.name})]}),U&&k>0&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-500 text-white rounded-full min-w-[20px] text-center",children:k}),F&&E>0&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-500 text-white rounded-full min-w-[20px] text-center",children:E})]},w.name)})}),r.jsxs("div",{className:"p-4 border-t border-gray-200",children:[r.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg mb-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:P},children:r.jsx("span",{className:"text-white text-sm font-medium",children:(R=n==null?void 0:n.email)==null?void 0:R.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(Q=n==null?void 0:n.email)==null?void 0:Q.split("@")[0]}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Admin"})]})]})}),r.jsxs("button",{onClick:ne,className:`w-full flex items-center justify-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition ${S?"space-x-reverse":""}`,children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:e("common.logout")})]})]})]})}),r.jsxs("div",{className:`${S?"lg:pr-64":"lg:pl-64"} flex flex-col flex-1 transition-all duration-200`,children:[r.jsxs("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 px-6 py-4",children:[B&&r.jsxs("div",{className:"mb-4 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-amber-800",children:"Complete your onboarding steps"}),r.jsxs("p",{className:"text-xs text-amber-700",children:[M.completed,"/",M.total," completed •"," ",M.total-M.completed," remaining"]})]}),r.jsx("button",{onClick:()=>y("/onboarding"),className:"inline-flex items-center justify-center rounded-md bg-amber-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2",children:"Continue"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>v(!z),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(xt,{className:"w-6 h-6"})}),r.jsx("div",{className:"flex-1 lg:flex-none",children:$&&r.jsx("div",{className:"flex flex-col gap-2",children:r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Impersonating Company"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:i??"",onChange:w=>{const _=w.target.value||null;if(!_){u();return}const U=ce.find(F=>F.id===_);c(_,(U==null?void 0:U.name)??null)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 min-w-[220px]",style:{"--tw-ring-color":P},onFocus:w=>{w.currentTarget.style.borderColor=P},onBlur:w=>{w.currentTarget.style.borderColor=""},disabled:L,children:[r.jsx("option",{value:"",children:L?"Loading companies…":"Select a company"}),ce.map(w=>r.jsx("option",{value:w.id,children:w.name},w.id))]}),i&&r.jsx("button",{onClick:()=>u(),className:"text-sm text-gray-500 hover:text-gray-700 underline",type:"button",children:"Clear"})]}),l&&r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:l})]})})})}),r.jsxs("div",{className:`flex items-center space-x-4 ${S?"space-x-reverse":""}`,children:[r.jsx(kt,{}),r.jsxs(we,{to:"/employee/login",className:`flex items-center space-x-2 px-4 py-2 hover:opacity-90 rounded-lg transition group ${S?"space-x-reverse":""}`,style:{backgroundColor:O("50"),color:P},title:"Switch to Employee Portal",children:[r.jsx(ve,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Employee View"})]}),r.jsxs("button",{className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition",children:[r.jsx(ze,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})]})]})]}),r.jsx("main",{className:"flex-1 p-4 sm:p-6 w-full max-w-full overflow-x-hidden",children:r.jsx("div",{className:"w-full max-w-full",children:s})})]})]})}function xs({children:s}){var g,x;const{t:e,i18n:t}=Te(),{user:n,signOut:a}=le(),o=ft(),i=qe(),l=t.language==="ar",[c,u]=m.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1),p=()=>typeof window<"u"&&window.innerWidth<1024;m.useEffect(()=>{const y=(()=>{const S=window.matchMedia("(min-width: 1024px)"),z=S.matches;return u(!!z),S})(),D=S=>{u(S.matches)};return y.addEventListener?(y.addEventListener("change",D),()=>y.removeEventListener("change",D)):(y.addListener(D),()=>y.removeListener(D))},[]),m.useEffect(()=>{p()&&u(!1)},[i.pathname]);const f=async()=>{await a(),o("/employee/login")},d=[{name:e("employee.dashboard"),key:"dashboard",href:"/employee/dashboard",icon:Fe},{name:e("employee.vestingTimeline"),key:"vestingTimeline",href:"/employee/vesting",icon:Ue},{name:e("employee.portfolio"),key:"portfolio",href:"/employee/portfolio",icon:gt},{name:e("employee.performance"),key:"performance",href:"/employee/performance",icon:Fe},{name:e("employee.taxCalculator"),key:"taxCalculator",href:"/employee/tax-calculator",icon:en},{name:e("employee.zakatCalculator"),key:"zakatCalculator",href:"/employee/zakat-calculator",icon:tn},{name:e("employee.documents"),key:"documents",href:"/employee/documents",icon:$e},{name:e("employee.notifications"),key:"notifications",href:"/employee/notifications",icon:ze}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:`fixed inset-y-0 ${l?"right-0 border-l":"left-0 border-r"} z-50 w-64 bg-white border-gray-200 transform transition-transform duration-200 ease-in-out ${c?"translate-x-0":l?"translate-x-full":"-translate-x-full"} lg:translate-x-0`,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:`flex items-center justify-between p-6 border-b border-gray-200 ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 p-2 rounded-lg",children:r.jsx(Ue,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"LTIP-CONNECT"}),r.jsx("p",{className:"text-xs text-gray-500",children:e("employee.employeePortal")})]})]}),r.jsx("button",{onClick:()=>u(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:d.map(j=>{const y=i.pathname===j.href;return r.jsxs(we,{to:j.href,onClick:()=>{p()&&u(!1)},className:`flex items-center ${l?"space-x-reverse space-x-3":"space-x-3"} px-4 py-3 rounded-lg transition ${y?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(j.icon,{className:`w-5 h-5 ${y?"text-blue-600":"text-gray-400"}`}),r.jsx("span",{children:j.name})]},j.key)})}),r.jsxs("div",{className:"p-4 border-t border-gray-200",children:[r.jsx("div",{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg mb-3 ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(g=n==null?void 0:n.email)==null?void 0:g.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(x=n==null?void 0:n.email)==null?void 0:x.split("@")[0]}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e("employee.employee")})]})]})}),r.jsxs("button",{onClick:f,className:`flex items-center justify-center ${l?"space-x-reverse space-x-2":"space-x-2"} w-full px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition`,children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:e("employee.signOut")})]})]})]})}),r.jsxs("div",{className:l?"lg:pr-64":"lg:pl-64",children:[r.jsxs("div",{className:`sticky top-0 z-40 flex h-16 shrink-0 items-center ${l?"gap-x-reverse gap-x-2 sm:gap-x-4":"gap-x-2 sm:gap-x-4"} border-b border-gray-200 bg-white px-2 sm:px-4 shadow-sm sm:px-6 lg:px-8`,children:[r.jsxs("button",{type:"button",className:`-m-2.5 p-2.5 text-gray-700 lg:hidden flex-shrink-0 ${l?"ml-auto":""}`,onClick:()=>u(!0),children:[r.jsx("span",{className:"sr-only",children:"Open sidebar"}),r.jsx(xt,{className:"h-6 w-6"})]}),r.jsx("div",{className:`flex flex-1 ${l?"gap-x-reverse gap-x-2 sm:gap-x-4 lg:gap-x-6":"gap-x-2 sm:gap-x-4 lg:gap-x-6"} self-stretch items-center ${l?"justify-start":"justify-end"} min-w-0`,children:r.jsxs("div",{className:`flex items-center ${l?"gap-x-reverse gap-x-2 sm:gap-x-4 lg:gap-x-6":"gap-x-2 sm:gap-x-4 lg:gap-x-6"}`,children:[r.jsx(kt,{}),r.jsxs(we,{to:"/login",className:`flex items-center ${l?"space-x-reverse space-x-1 sm:space-x-2":"space-x-1 sm:space-x-2"} px-2 sm:px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-200 rounded-lg transition flex-shrink-0`,title:"Switch to Admin Portal",children:[r.jsx(ve,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:e("employee.adminView")})]}),r.jsxs(we,{to:"/employee/notifications",className:"relative -m-2.5 p-2.5 text-gray-400 hover:text-gray-500 flex-shrink-0",children:[r.jsx("span",{className:"sr-only",children:"View notifications"}),r.jsx(ze,{className:"h-5 w-5 sm:h-6 sm:w-6"}),r.jsx("span",{className:`absolute top-1 ${l?"left-1":"right-1"} block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white`})]})]})})]}),r.jsx("main",{className:"py-8",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s})})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 z-40 lg:hidden",onClick:()=>u(!1)})]})}const bs=m.lazy(()=>C(()=>import("./Login-BtUHbsGj.js"),__vite__mapDeps([0,1,2,3]))),vs=m.lazy(()=>C(()=>import("./Dashboard-CjFD_o8l.js"),__vite__mapDeps([4,1,5,6,2,7,3]))),ws=m.lazy(()=>C(()=>import("./Employees-DnRrDgTg.js"),__vite__mapDeps([8,1,6,2,3]))),Ss=m.lazy(()=>C(()=>import("./Plans-Cqi_6fLF.js"),__vite__mapDeps([9,1,6,2,3]))),_s=m.lazy(()=>C(()=>import("./Grants-C3IRHsiN.js"),__vite__mapDeps([10,1,6,11,12,13,2,3]))),js=m.lazy(()=>C(()=>import("./Portfolio-CJD4n3Gs.js"),__vite__mapDeps([14,1,6,2,3]))),Ps=m.lazy(()=>C(()=>import("./Settings-CnmVVpOS.js"),__vite__mapDeps([15,1,2,3]))),Ns=m.lazy(()=>C(()=>import("./CapTable-EFzAz_ap.js"),__vite__mapDeps([16,1,6,2,3]))),Cs=m.lazy(()=>C(()=>import("./LTIPPools-DFydxkQw.js"),__vite__mapDeps([17,1,6,2,3]))),Ls=m.lazy(()=>C(()=>import("./VestingSchedules-CkQxKrZ3.js"),__vite__mapDeps([18,1,2,3]))),Ds=m.lazy(()=>C(()=>import("./VestingEvents-D03Ony88.js"),__vite__mapDeps([19,1,5,6,13,2,3]))),Es=m.lazy(()=>C(()=>import("./Transfers-kpkyKcew.js"),__vite__mapDeps([20,1,6,13,2,3]))),Os=m.lazy(()=>C(()=>import("./PerformanceMetrics-BPk0W0Wt.js"),__vite__mapDeps([21,1,2,3]))),ks=m.lazy(()=>C(()=>import("./Documents-BwLRRYZi.js"),__vite__mapDeps([22,1,6,2,3]))),Ts=m.lazy(()=>C(()=>import("./Users-By3doBF6.js"),__vite__mapDeps([23,1,2,3]))),Rs=m.lazy(()=>C(()=>import("./EmployeeLogin-DD2Xdhex.js"),__vite__mapDeps([24,1,2,3]))),As=m.lazy(()=>C(()=>import("./EmployeeDashboard-b07uHzfB.js"),__vite__mapDeps([25,1,26,2,27,7,3]))),Vs=m.lazy(()=>C(()=>import("./EmployeeVesting-C8zHQbhc.js"),__vite__mapDeps([28,1,11,12,13,6,2,3]))),Is=m.lazy(()=>C(()=>import("./EmployeePerformance-CDukxINj.js"),__vite__mapDeps([29,1,27,2,3]))),$s=m.lazy(()=>C(()=>import("./EmployeePortfolio-Crlarkv_.js"),__vite__mapDeps([30,1,6,26,2,3]))),Us=m.lazy(()=>C(()=>import("./EmployeeTaxCalculator-BAVpA_6e.js"),__vite__mapDeps([31,1,2,3]))),Fs=m.lazy(()=>C(()=>import("./EmployeeZakatCalculator-BTpII1dk.js"),__vite__mapDeps([32,1,2,3]))),zs=m.lazy(()=>C(()=>import("./EmployeeDocuments-Bh7LqGYJ.js"),__vite__mapDeps([33,1,6,2,3]))),Ms=m.lazy(()=>C(()=>import("./EmployeeNotifications-GZQJgNL4.js"),__vite__mapDeps([34,1,2,3]))),Bs=m.lazy(()=>C(()=>import("./Onboarding-Cg_rJqXW.js"),__vite__mapDeps([35,1,11,3,2]))),Ks=m.lazy(()=>C(()=>import("./OperatorCompanies-D19YD3rQ.js"),__vite__mapDeps([36,1,2,3]))),qs=m.lazy(()=>C(()=>import("./OperatorSubscriptions-CYkYMbPF.js"),__vite__mapDeps([37,1,2,3]))),Hs=m.lazy(()=>C(()=>import("./OperatorBuybackRequests-BCb__8Bu.js"),__vite__mapDeps([38,1,2,3]))),Gs=m.lazy(()=>C(()=>import("./OperatorPortfolios-NWwrcbFv.js"),__vite__mapDeps([39,1,2,3]))),Js=m.lazy(()=>C(()=>import("./Translations-DTsBFN8J.js"),__vite__mapDeps([40,1,2,3]))),Ws=m.lazy(()=>C(()=>import("./CustomerJourney-BVuvPq6a.js"),__vite__mapDeps([41,2,1,3]))),Ys=m.lazy(()=>C(()=>import("./LandingOptionOne-B4n5MTrd.js"),__vite__mapDeps([42,43,3,1,2]))),Qs=m.lazy(()=>C(()=>import("./LandingOptionTwo-Ddbc71rd.js"),__vite__mapDeps([44,1,43,3,2]))),Zs=m.lazy(()=>C(()=>import("./LandingOptionThree-DNDgSBMf.js"),__vite__mapDeps([45,1,43,3,2]))),Xs=m.lazy(()=>C(()=>import("./LandingOptionFour-CJ6xHKrO.js"),__vite__mapDeps([46,43,3,1,2]))),eo=m.lazy(()=>C(()=>import("./LandingOptionFive-n9W18AAL.js"),__vite__mapDeps([47,1,43,3,2]))),to=m.lazy(()=>C(()=>import("./LandingOptionFiveAR-FFn5dkcN.js"),__vite__mapDeps([48,1,43,3,2]))),no=m.lazy(()=>C(()=>import("./LandingOptionSix-X1N7HLqs.js"),__vite__mapDeps([49,43,3,1,2]))),so=()=>r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function q({children:s}){qe();const{user:e,userRole:t,loading:n,isOnboardingComplete:a,onboardingLoaded:o}=le();return n?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?!o&&t&&t.user_type!=="employee"?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t&&t.user_type==="employee"?r.jsx(ie,{to:"/employee/dashboard",replace:!0}):r.jsx(At,{children:s}):r.jsx(ie,{to:"/login",replace:!0})}function be({children:s}){const{user:e,userRole:t,loading:n}=le();return n?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?(t==null?void 0:t.user_type)==="super_admin"||(t==null?void 0:t.role)==="super_admin"?r.jsx(At,{children:s}):r.jsx(ie,{to:"/dashboard",replace:!0}):r.jsx(ie,{to:"/login",replace:!0})}function se({children:s}){const{user:e,userRole:t,loading:n}=le();return n?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!e||!t||t.user_type!=="employee"?r.jsx(ie,{to:"/employee/login",replace:!0}):r.jsx(xs,{children:s})}function oo({children:s}){const{user:e,loading:t}=le();return t?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?r.jsx(r.Fragment,{children:s}):r.jsx(ie,{to:"/login",replace:!0})}function ao(){const{i18n:s}=Te();return m.useEffect(()=>{const e=window.location.search.slice(1);if(e&&window.history.replaceState){const t=e.split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,"",t)}},[]),m.useEffect(()=>{typeof document<"u"&&(document.documentElement.dir=s.language==="ar"?"rtl":"ltr",document.documentElement.lang=s.language)},[s.language]),r.jsx(m.Suspense,{fallback:r.jsx(so,{}),children:r.jsxs(Ft,{children:[r.jsx(N,{path:"/login",element:r.jsx(bs,{})}),r.jsx(N,{path:"/onboarding",element:r.jsx(oo,{children:r.jsx(Bs,{})})}),r.jsx(N,{path:"/dashboard",element:r.jsx(q,{children:r.jsx(vs,{})})}),r.jsx(N,{path:"/dashboard/employees",element:r.jsx(q,{children:r.jsx(ws,{})})}),r.jsx(N,{path:"/dashboard/plans",element:r.jsx(q,{children:r.jsx(Ss,{})})}),r.jsx(N,{path:"/dashboard/grants",element:r.jsx(q,{children:r.jsx(_s,{})})}),r.jsx(N,{path:"/dashboard/portfolio",element:r.jsx(q,{children:r.jsx(js,{})})}),r.jsx(N,{path:"/dashboard/settings",element:r.jsx(q,{children:r.jsx(Ps,{})})}),r.jsx(N,{path:"/dashboard/users",element:r.jsx(q,{children:r.jsx(Ts,{})})}),r.jsx(N,{path:"/dashboard/cap-table",element:r.jsx(q,{children:r.jsx(Ns,{})})}),r.jsx(N,{path:"/dashboard/ltip-pools",element:r.jsx(q,{children:r.jsx(Cs,{})})}),r.jsx(N,{path:"/dashboard/vesting-schedules",element:r.jsx(q,{children:r.jsx(Ls,{})})}),r.jsx(N,{path:"/dashboard/vesting-events",element:r.jsx(q,{children:r.jsx(Ds,{})})}),r.jsx(N,{path:"/dashboard/transfers",element:r.jsx(q,{children:r.jsx(Es,{})})}),r.jsx(N,{path:"/dashboard/performance-metrics",element:r.jsx(q,{children:r.jsx(Os,{})})}),r.jsx(N,{path:"/dashboard/documents",element:r.jsx(q,{children:r.jsx(ks,{})})}),r.jsx(N,{path:"/operator/companies",element:r.jsx(be,{children:r.jsx(Ks,{})})}),r.jsx(N,{path:"/operator/subscriptions",element:r.jsx(be,{children:r.jsx(qs,{})})}),r.jsx(N,{path:"/operator/buyback-requests",element:r.jsx(be,{children:r.jsx(Hs,{})})}),r.jsx(N,{path:"/operator/portfolios",element:r.jsx(be,{children:r.jsx(Gs,{})})}),r.jsx(N,{path:"/dashboard/translations",element:r.jsx(be,{children:r.jsx(Js,{})})}),r.jsx(N,{path:"/dashboard/customer-journey",element:r.jsx(q,{children:r.jsx(Ws,{})})}),r.jsx(N,{path:"/employee/login",element:r.jsx(Rs,{})}),r.jsx(N,{path:"/employee/dashboard",element:r.jsx(se,{children:r.jsx(As,{})})}),r.jsx(N,{path:"/employee/vesting",element:r.jsx(se,{children:r.jsx(Vs,{})})}),r.jsx(N,{path:"/employee/performance",element:r.jsx(se,{children:r.jsx(Is,{})})}),r.jsx(N,{path:"/employee/portfolio",element:r.jsx(se,{children:r.jsx($s,{})})}),r.jsx(N,{path:"/employee/tax-calculator",element:r.jsx(se,{children:r.jsx(Us,{})})}),r.jsx(N,{path:"/employee/zakat-calculator",element:r.jsx(se,{children:r.jsx(Fs,{})})}),r.jsx(N,{path:"/employee/documents",element:r.jsx(se,{children:r.jsx(zs,{})})}),r.jsx(N,{path:"/employee/notifications",element:r.jsx(se,{children:r.jsx(Ms,{})})}),r.jsx(N,{path:"/concept1",element:r.jsx(Ys,{})}),r.jsx(N,{path:"/concept2",element:r.jsx(Qs,{})}),r.jsx(N,{path:"/concept3",element:r.jsx(Zs,{})}),r.jsx(N,{path:"/concept4",element:r.jsx(Xs,{})}),r.jsx(N,{path:"/concept5",element:r.jsx(eo,{})}),r.jsx(N,{path:"/concept5-ar",element:r.jsx(to,{})}),r.jsx(N,{path:"/concept6",element:r.jsx(no,{})}),r.jsx(N,{path:"/",element:r.jsx(ie,{to:"/dashboard",replace:!0})})]})})}function ro(){return r.jsx(Ut,{basename:"/Derayah-LTIP",children:r.jsx(hs,{children:r.jsx(ao,{})})})}wt(document.getElementById("root")).render(r.jsx(m.StrictMode,{children:r.jsx(ro,{})}));export{Te as a,ys as b,r as j,po as r,A as s,le as u};
