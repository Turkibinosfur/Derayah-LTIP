import{u as rt,s as c,j as e}from"./index-CHcuUdej.js";import{u as st,r as a}from"./react-vendor-xiFAdxLt.js";import{b as lt}from"./vestingUtils-Y6bbk_Ca.js";import"./supabase-vendor-B-LuImWU.js";import"./ui-vendor-a8g5-7pO.js";const Le={pool:"Create Your ESOP Pool",vesting_schedule:"Create a Vesting Schedule Template",plan:"Create Your First Incentive Plan",employee:"Add Your First Employee",grant:"Issue Your First Grant"},nt={pool:"Define the share pool that powers your equity program.",vesting_schedule:"Design the vesting template that your grants will follow.",plan:"Describe vesting rules and plan details for your ESOP.",employee:"Add at least one employee who will receive a grant.",grant:"Connect plan and employee to issue the first allocation."},C=["pool","vesting_schedule","plan","employee","grant"];function ot(u){return!u||!u.has_pool?"pool":u.has_vesting_schedule?u.has_plan?u.has_employee?"grant":"employee":"plan":"vesting_schedule"}function pt(){const{user:u,userRole:b,activeCompanyId:K,onboardingProgress:s,refreshOnboardingProgress:Ge,isOnboardingComplete:Q}=rt(),f=st(),[U,X]=a.useState(!1),[Z,T]=a.useState(null),[ee,te]=a.useState(null),[Ve,Re]=a.useState([]),[k,Ye]=a.useState([]),[ae,$e]=a.useState([]),[Be,Je]=a.useState([]),[P,re]=a.useState(""),[A,se]=a.useState(""),[le,We]=a.useState("general"),[D,ne]=a.useState(""),[L,oe]=a.useState(""),[N,ie]=a.useState(48),[M,ce]=a.useState(12),[y,de]=a.useState(null),[d,G]=a.useState(null),[I,ue]=a.useState(""),[O,me]=a.useState(""),[V,pe]=a.useState(""),[R,ge]=a.useState(""),[Y,he]=a.useState(""),[be,xe]=a.useState(""),[fe,ye]=a.useState(""),[m,$]=a.useState(null),[v,ve]=a.useState(null),[_e,je]=a.useState(""),[Ne,ze]=a.useState(()=>new Date().toISOString().slice(0,10)),[B,we]=a.useState(""),[Se,Ee]=a.useState(""),[Ce,ke]=a.useState("time_based"),[Pe,De]=a.useState(48),[Me,Ie]=a.useState(12),[Oe,qe]=a.useState("monthly"),J=a.useMemo(()=>ot(s),[s]),[_,W]=a.useState(J),w=a.useCallback(t=>{if(!s)return!1;switch(t){case"pool":return s.has_pool;case"vesting_schedule":return s.has_vesting_schedule;case"plan":return s.has_plan;case"employee":return s.has_employee;case"grant":return s.has_grant;default:return!1}},[s]);a.useEffect(()=>{W(t=>!s||!w(t)?t:J)},[s,J,w]);const n=a.useMemo(()=>K??(s==null?void 0:s.company_id)??null,[K,s==null?void 0:s.company_id]);a.useEffect(()=>{if(!u){f("/login");return}(b==null?void 0:b.role)!=="super_admin"&&(b==null?void 0:b.user_type)==="employee"&&f("/employee/dashboard")},[u,b,f]),a.useEffect(()=>{Q()&&f("/dashboard")},[f,s,Q]);const z=a.useCallback(async()=>{if(!n)return;const[{data:t,error:r}={data:[],error:null},{data:l,error:o}={data:[],error:null},{data:E,error:p}={data:[],error:null},{data:q,error:F}={data:[],error:null}]=await Promise.all([c.from("ltip_pools").select("id, pool_name_en, total_shares_allocated, pool_type").eq("company_id",n).order("created_at",{ascending:!0}),c.from("vesting_schedules").select("id, name, schedule_type, total_duration_months, cliff_months, vesting_frequency, is_template").eq("company_id",n).eq("is_template",!0).order("created_at",{ascending:!0}),c.from("incentive_plans").select("id, plan_name_en, plan_code, total_shares_allocated, shares_granted, shares_available, status, vesting_config, vesting_schedule_template_id").eq("company_id",n).order("created_at",{ascending:!0}),c.from("employees").select("id, first_name_en, last_name_en, email, employee_number").eq("company_id",n).order("created_at",{ascending:!0})]);r&&console.error("Error loading pools during onboarding:",r),o&&console.error("Error loading vesting schedules during onboarding:",o),p&&console.error("Error loading plans during onboarding:",p),F&&console.error("Error loading employees during onboarding:",F);const g=t??[],j=l??[],h=E??[],x=q??[];Re(g),Ye(j),$e(h),Je(x),(!y||!g.some(i=>i.id===y))&&g.length>0&&de(g[0].id),(!d||!j.some(i=>i.id===d))&&j.length>0&&G(j[0].id),(!m||!h.some(i=>i.id===m))&&h.length>0&&$(h[0].id),(!v||!x.some(i=>i.id===v))&&x.length>0&&ve(x[0].id)},[n,y,d,m,v]);a.useEffect(()=>{z()},[z]),a.useEffect(()=>{if(!d)return;const t=k.find(r=>r.id===d);t&&(t.total_duration_months&&t.total_duration_months!==N&&ie(t.total_duration_months),typeof t.cliff_months=="number"&&t.cliff_months>=0&&t.cliff_months!==M&&ce(t.cliff_months))},[d,k,N,M]);const S=async(t,r)=>{const{error:l}=await c.rpc("complete_company_onboarding_step",{p_step:t});if(l)throw l;await Ge(),await z(),T(null),te(r)},He=async()=>{if(!n)throw new Error("Company context not available");if(!P.trim()||!A.trim())throw new Error("Pool name and share amount are required");const t=`POOL-${Date.now()}`,r=Number(A);if(Number.isNaN(r)||r<=0)throw new Error("Total shares must be a positive number");const{error:l}=await c.from("ltip_pools").insert({company_id:n,pool_name_en:P.trim(),pool_name_ar:P.trim(),pool_code:t,total_shares_allocated:r,pool_type:le,status:"active"});if(l)throw l;re(""),se(""),await S("pool","ESOP pool created successfully!")},Ke=async()=>{if(!n)throw new Error("Company context not available");if(!B.trim())throw new Error("Schedule name is required");const{data:t,error:r}=await c.from("vesting_schedules").insert({company_id:n,name:B.trim(),description:Se.trim()||null,schedule_type:Ce,total_duration_months:Pe,cliff_months:Me,vesting_frequency:Oe,is_template:!0}).select("id").single();if(r)throw r;t!=null&&t.id&&G(t.id),we(""),Ee(""),ke("time_based"),De(48),Ie(12),qe("monthly"),await S("vesting_schedule","Vesting schedule template created successfully!")},Qe=async()=>{if(!n)throw new Error("Company context not available");if(!D.trim()||!L.trim())throw new Error("Plan name and allocated shares are required");if(!y)throw new Error("Select an ESOP pool before creating a plan");if(!d)throw new Error("Select a vesting schedule template before creating a plan");const t=Number(L);if(Number.isNaN(t)||t<=0)throw new Error("Total shares must be a positive number");const r=k.find(p=>p.id===d),l={totalMonths:N,cliffMonths:M,frequency:(r==null?void 0:r.vesting_frequency)??"monthly",type:((r==null?void 0:r.schedule_type)??"time_based")==="time_based"?"standard":r==null?void 0:r.schedule_type},{data:o,error:E}=await c.from("incentive_plans").insert({company_id:n,plan_name_en:D.trim(),plan_name_ar:D.trim(),plan_type:"ESOP",plan_code:`PLAN-${Date.now()}`,description_en:"Created via onboarding wizard",description_ar:"تم الإنشاء عبر معالج البدء السريع",vesting_schedule_type:(r==null?void 0:r.schedule_type)??"time_based",vesting_config:l,total_shares_allocated:t,shares_available:t,start_date:new Date().toISOString().slice(0,10),status:"draft",approval_status:"pending",ltip_pool_id:y,vesting_schedule_template_id:d}).select("id").single();if(E)throw E;o!=null&&o.id&&$(o.id),ne(""),oe(""),await S("plan","Incentive plan created successfully!")},Ue=async()=>{if(!n)throw new Error("Company context not available");if(!I.trim()||!O.trim()||!V.trim()||!R.trim()||!Y.trim())throw new Error("All required employee fields must be filled");const{error:t}=await c.from("employees").insert({company_id:n,employee_number:R.trim(),national_id:Y.trim(),email:V.trim(),phone:null,first_name_en:I.trim(),last_name_en:O.trim(),first_name_ar:I.trim(),last_name_ar:O.trim(),department:fe.trim()||null,job_title:be.trim()||null,hire_date:new Date().toISOString().slice(0,10)});if(t)throw t;ue(""),me(""),pe(""),ge(""),he(""),xe(""),ye(""),await S("employee","Employee added successfully!")},Xe=async()=>{var Te,Ae;if(!n)throw new Error("Company context not available");if(!(s!=null&&s.has_vesting_schedule))throw new Error("Complete the vesting schedule step before creating a grant.");if(!m||!v)throw new Error("Select both a plan and an employee to continue");const t=ae.find(H=>H.id===m);if(!t)throw new Error("Selected plan could not be found");const r=Number(_e);if(Number.isNaN(r)||r<=0)throw new Error("Grant shares must be a positive number");const l=Number(t.shares_available??t.total_shares_allocated??0),o=Number(t.shares_granted??0);if((t.shares_available==null?l-o:l)<r)throw new Error("Not enough shares available in the selected plan");const p=Ne||new Date().toISOString().slice(0,10),q=new Date(p),F=((Te=t==null?void 0:t.vesting_config)==null?void 0:Te.totalMonths)??((Ae=t==null?void 0:t.vesting_config)==null?void 0:Ae.durationMonths)??N,g=new Date(q);g.setMonth(g.getMonth()+F);const j=`GR-${q.getFullYear()}-${Math.floor(1e5+Math.random()*9e5)}`,{data:h,error:x}=await c.from("grants").insert({grant_number:j,company_id:n,plan_id:m,employee_id:v,grant_date:p,total_shares:r,vesting_start_date:p,vesting_end_date:g.toISOString().slice(0,10),status:"active"}).select("id");if(x)throw x;const i=h==null?void 0:h[0],tt=o+r,at=l-r;if(await c.from("incentive_plans").update({shares_granted:tt,shares_available:at}).eq("id",m),i!=null&&i.id&&t.vesting_schedule_template_id)try{await lt(i.id,t.vesting_schedule_template_id)}catch(H){console.error("Error generating vesting records during onboarding:",H)}je(""),await S("grant","Grant created successfully! You are all set.")},Ze=async()=>{X(!0),T(null),te(null);try{switch(_){case"pool":await He();break;case"vesting_schedule":await Ke();break;case"plan":await Qe();break;case"employee":await Ue();break;case"grant":await Xe();break;default:break}}catch(t){console.error(t),T(t.message||"Something went wrong. Please try again.")}finally{X(!1)}},et=()=>{switch(_){case"pool":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pool Name"}),e.jsx("input",{type:"text",value:P,onChange:t=>re(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2025 Employee ESOP Pool"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Shares"}),e.jsx("input",{type:"number",value:A,onChange:t=>se(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"5000000",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pool Type"}),e.jsxs("select",{value:le,onChange:t=>We(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"employee",children:"Employee"}),e.jsx("option",{value:"executive",children:"Executive"}),e.jsx("option",{value:"retention",children:"Retention"}),e.jsx("option",{value:"performance",children:"Performance"})]})]})]});case"vesting_schedule":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Name"}),e.jsx("input",{type:"text",value:B,onChange:t=>we(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Standard 4-Year Vesting"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),e.jsx("textarea",{value:Se,onChange:t=>Ee(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Outline any special notes about this schedule"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Type"}),e.jsxs("select",{value:Ce,onChange:t=>ke(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"time_based",children:"Time-Based"}),e.jsx("option",{value:"performance_based",children:"Performance-Based"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vesting Frequency"}),e.jsxs("select",{value:Oe,onChange:t=>qe(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"annually",children:"Annually"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Duration (months)"}),e.jsx("input",{type:"number",value:Pe,onChange:t=>De(Number(t.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliff (months)"}),e.jsx("input",{type:"number",value:Me,onChange:t=>Ie(Number(t.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]})]})]});case"plan":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Vesting Schedule Template"}),e.jsxs("select",{value:d??"",onChange:t=>G(t.target.value||null),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose a template"}),k.map(t=>e.jsxs("option",{value:t.id,children:[t.name," • ",t.total_duration_months," months • ",t.vesting_frequency]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select ESOP Pool"}),e.jsxs("select",{value:y??"",onChange:t=>de(t.target.value||null),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose a pool"}),Ve.map(t=>e.jsxs("option",{value:t.id,children:[t.pool_name_en," (",Number(t.total_shares_allocated??0).toLocaleString()," shares)"]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Name"}),e.jsx("input",{type:"text",value:D,onChange:t=>ne(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ESOP 2025 Plan"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allocated Shares"}),e.jsx("input",{type:"number",value:L,onChange:t=>oe(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"1000000",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vesting Duration (months)"}),e.jsx("input",{type:"number",value:N,onChange:t=>ie(Number(t.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliff (months)"}),e.jsx("input",{type:"number",value:M,onChange:t=>ce(Number(t.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]})]})]});case"employee":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:I,onChange:t=>ue(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:O,onChange:t=>me(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:V,onChange:t=>pe(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"employee@company.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee Number"}),e.jsx("input",{type:"text",value:R,onChange:t=>ge(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"EMP-0001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"National ID"}),e.jsx("input",{type:"text",value:Y,onChange:t=>he(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"1010123456"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title (optional)"}),e.jsx("input",{type:"text",value:be,onChange:t=>xe(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department (optional)"}),e.jsx("input",{type:"text",value:fe,onChange:t=>ye(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]});case"grant":default:return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Plan"}),e.jsxs("select",{value:m??"",onChange:t=>$(t.target.value||null),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose a plan"}),ae.map(t=>e.jsxs("option",{value:t.id,children:[t.plan_name_en," (",Number(t.total_shares_allocated??0).toLocaleString()," shares)"]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee"}),e.jsxs("select",{value:v??"",onChange:t=>ve(t.target.value||null),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose an employee"}),Be.map(t=>e.jsxs("option",{value:t.id,children:[t.first_name_en," ",t.last_name_en," (",t.employee_number,")"]},t.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grant Shares"}),e.jsx("input",{type:"number",value:_e,onChange:t=>je(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"10000",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vesting Start Date"}),e.jsx("input",{type:"date",value:Ne,onChange:t=>ze(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})}},Fe=a.useMemo(()=>s?C.filter(t=>w(t)).length:0,[s,w]);return e.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Your Equity Studio"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Follow these five guided steps to configure your ESOP workspace. Finish the wizard to unlock the full company dashboard."})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Onboarding Progress"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-1",children:Le[_]}),e.jsx("p",{className:"text-gray-600 mt-2 max-w-2xl",children:nt[_]})]}),e.jsx("div",{className:"ml-6",children:e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"w-16 h-16 text-blue-100",viewBox:"0 0 100 100",children:[e.jsx("circle",{className:"text-blue-100",stroke:"currentColor",strokeWidth:"10",fill:"none",cx:"50",cy:"50",r:"40"}),e.jsx("circle",{className:"text-blue-600",stroke:"currentColor",strokeWidth:"10",strokeLinecap:"round",fill:"none",cx:"50",cy:"50",r:"40",strokeDasharray:`${Fe/C.length*251} 1000`,transform:"rotate(-90 50 50)"})]}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xl font-semibold text-blue-700",children:[Fe,"/",C.length]})]})})]}),e.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-5 gap-4",children:C.map(t=>{const r=w(t),l=t===_;return e.jsxs("div",{role:"button",tabIndex:0,onClick:()=>W(t),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),W(t))},className:`p-4 border rounded-xl transition-shadow focus:outline-none focus:ring-2 focus:ring-blue-400 ${r?"border-green-200 bg-green-50":l?"border-blue-200 bg-blue-50":"border-slate-200"} ${l?"shadow-md cursor-pointer":"cursor-pointer hover:shadow-md"}`,children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase",children:`Step ${C.indexOf(t)+1}`}),e.jsx("p",{className:"mt-2 font-semibold text-gray-900",children:Le[t]}),e.jsx("div",{className:"mt-4",children:r?e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700",children:"Completed"}):l?e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-700",children:"In progress"}):e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-500",children:"Pending"})})]},t)})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[Z&&e.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-red-700",children:Z}),ee&&e.jsx("div",{className:"mb-6 rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-green-700",children:ee}),e.jsx("div",{className:"space-y-6",children:et()}),e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsx("button",{type:"button",className:"text-sm font-medium text-gray-500 hover:text-gray-700",onClick:()=>f("/dashboard"),children:"Skip for now"}),e.jsx("button",{type:"button",onClick:Ze,disabled:U,className:"inline-flex items-center px-6 py-3 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Saving...":_==="grant"?"Finish Setup":"Save and Continue"})]})]})]})})}export{pt as default};
